#include "ACEPS2-4-STM8.h"

//
//  Process the interrupt generated by the pressing of the button on PD4.
//

void GPIO_D_Handler(void)
{
#if USEINTER
	GPIOIntHandlerA();
#endif
}

void GPIO_C_Handler(void)
{
#if USEINTER
	GPIOIntHandlerB();
#endif
}

void GPIO_Config()
{
	GPIO_Init(PORTAPORT,PORTADATA,GPIO_MODE_IN_PU_NO_IT);

#if USEINTER	
	GPIO_Init(PORTAPORT,PORTACLK,GPIO_MODE_IN_PU_IT);

	EXTI_SetExtIntSensitivity(PORTAEXTI,EXTI_SENSITIVITY_FALL_ONLY);
	EXTI_SetTLISensitivity(EXTI_TLISENSITIVITY_FALL_ONLY);
#else
	GPIO_Init(PORTAPORT,PORTACLK,GPIO_MODE_IN_PU_NO_IT);
#endif

	GPIO_Init(PORTBPORT,PORTBDATA,GPIO_MODE_IN_PU_NO_IT);

#if USEINTER	
	GPIO_Init(PORTBPORT,PORTBCLK,GPIO_MODE_IN_PU_IT);

	EXTI_SetExtIntSensitivity(PORTBEXTI,EXTI_SENSITIVITY_FALL_ONLY);
	EXTI_SetTLISensitivity(EXTI_TLISENSITIVITY_FALL_ONLY);
#else
	GPIO_Init(PORTBPORT,PORTBCLK,GPIO_MODE_IN_PU_NO_IT);
#endif

}