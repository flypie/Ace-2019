;	PUBLIC 	UNDEFINT0,UNDEFINT1,UNDEFINT2,UNDEFINT3,UNDEFINT4,UNDEFINT5,UNDEFINT6,UNDEFINT7

	EXTERN 	FAOUT,FQUADOUT,FXY2SCR,FHOUTA


DONTUSEFUNCS equ 0


COUT MACRO MADDR , CHR
	PUSH HL

	LD	HL,MADDR
	LD 	(HL),CHR

	POP HL
	ENDMAC

COUTXY MACRO XPOS, YPOS , CHR
	PUSH IX

	XY2SCR	XPOS, YPOS

	LD 	(IX),CHR

	POP	IX

	ENDMAC


SP2SCR	MACRO XPOS, YPOS
	PUSH	HL

	XY2SCR	XPOS, YPOS

	LD HL,0
	ADD HL,SP
	LD A,H

	SRL A
	SRL A
	SRL A
	SRL A

	CALL FAOUT

	LD HL,0
	ADD HL,SP
	LD A,H

	AND 0FH

	INC		IX
	CALL FAOUT

	LD HL,0
	ADD HL,SP
	LD A,L

	SRL A
	SRL A
	SRL A
	SRL A

	INC		IX
	CALL FAOUT

	LD HL,0
	ADD HL,SP
	LD A,L

	AND 0FH

	INC		IX
	CALL FAOUT

	POP		HL
	
	ENDMAC
 
XY2SCR	MACRO XPOS, YPOS
	PUSH BC

	LD 	B,XPOS
	LD 	C,YPOS

	CALL	FXY2SCR

	POP BC

	ENDMAC
 

HOUT	MACRO POS, DIN
	PUSH BC
	PUSH IX

	LD	IX,POS
	LD	B,DIN
	call FHOUTA

	POP	IX
	POP BC

	ENDMAC

HOUTXY	MACRO XPOS,YPOS, DIN
	PUSH BC
	PUSH IX

	XY2SCR	XPOS, YPOS

	LD	B,DIN
	call FHOUTA

	POP	IX
	POP BC

	ENDMAC
	
QUADOUT	MACRO XPOS, YPOS, PTR
	PUSH BC
	PUSH HL

	LD B,XPOS 
	LD C,YPOS
 	LD HL,PTR

	call FQUADOUT

	POP HL
	POP BC

	ENDMAC
	   
STROUTXY	MACRO XPOS,YPOS,STR,STRLEN
	PUSH BC
	PUSH DE
	PUSH HL
	PUSH IX

	XY2SCR	XPOS, YPOS

	LD	HL,$STRSTR
	PUSH	IX
	POP		DE
	LD	BC,STRLEN

	LDIR
	JR $LEAVE

$STRSTR
	DB STR
$LEAVE
	POP	IX
	POP HL
	POP DE
	POP BC

	ENDMAC

