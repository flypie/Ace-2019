Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:    1


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A        1 	INCLUDE "IODEFS.H"
                             B        1 ;	CPU  Z80
                             B        2 
                             B        3 	.IFNDEF RAMSTARTLOC
                             B        4 
                             B        5 	
                             B        6 	DEFINE BOOT;,ALIGN=1; Define a section
                             B        7 	DEFINE IM1INTSEG ;Define a section
                             B        8 	DEFINE NMIIM1INTSEG
                             B        9 	DEFINE CODE;,ALIGN=1
                             B       10 
                             B       11 	DEFINE RST08SEG
                             B       12 	DEFINE RST10SEG
                             B       13 	DEFINE RST18SEG
                             B       14 	DEFINE RST20SEG
                             B       15 	DEFINE RST28SEG
                             B       16 	DEFINE RST30SEG
                             B       17 	DEFINE RST38SEG
                             B       18 
                             B       19 	DEFINE RST66SEG
                             B       20 
                             B       21 	DEFINE INTTABLE, 	ALIGN=256 ; Define a section
                             B       22 	
                   00004000  B       23 RAMSTARTLOC equ 04000h
                   00002400  B       24 VIDSTARTLOC equ 2400h
                   00002C00  B       25 FONTSTARTLOC equ	2C00H
                             B       26 
                   00000018  B       27 SCRLINES	equ		18h
                   00000020  B       28 SCRWIDTH	equ		20h
                             B       29 
                             B       30 
                             B       31 ;Z84C15 equ 1 ;Uncomment when building for Z84C15
                             B       32 
                             B       33 
                             B       34 
                             B       35 	.ifdef Z84C15
                             B       36 
                             B       37 KIOBASE	equ	10h
                             B       38 
                             B       39 CTCIOBASE	equ	00h
                             B       40 SIOIOBASE	equ	18h
                             B       41 PIOIOBASE	equ	1Ch
                             B       42 PIAIOBASE	equ	11B
                             B       43 KIOIOBASE	equ	11B
                             B       44 
                             B       45 PIOPORTADATA	equ	00b
                             B       46 PIOPORTACMD		equ	01b
                             B       47 PIOPORTBDATA	equ	10b
                             B       48 PIOPORTBCMD		equ	11b
                             B       49 
                             B       50 CTCCHANNEL0		equ	00b
                             B       51 CTCCHANNEL1		equ	01b
                             B       52 CTCCHANNEL2		equ	10b
                             B       53 CTCCHANNEL3		equ	11b
                             B       54 
                             B       55 SIOPORTADATA	equ	00b
                             B       56 SIOPORTACMD		equ	01b
                             B       57 SIOPORTBDATA	equ	10b
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:    2


IODEFS.H

Location Object              Type  Line Source
                             B       58 SIOPORTBCMD		equ	11b
                             B       59 
                             B       60 MAKEPORT	MACRO	Name,Base,Device,Register
                             B       61 Name equ Base|(Device<<2)|(Register)
                             B       62 	ENDMAC 
                             B       63 
                             B       64 	.else
                   000000FC  B       65 KIOBASE	equ	0FCh
                             B       66 
                   00000000  B       67 PIOIOBASE	equ	00B
                   00000001  B       68 CTCIOBASE	equ	01B
                   00000002  B       69 SIOIOBASE	equ	10B
                   00000003  B       70 PIAIOBASE	equ	11B
                   00000003  B       71 KIOIOBASE	equ	11B
                             B       72 
                   00000000  B       73 PIOPORTADATA	equ	00b
                   00000001  B       74 PIOPORTACMD		equ	01b
                   00000002  B       75 PIOPORTBDATA	equ	10b
                   00000003  B       76 PIOPORTBCMD		equ	11b
                             B       77 
                   00000000  B       78 CTCCHANNEL0		equ	00b
                   00000001  B       79 CTCCHANNEL1		equ	01b
                   00000002  B       80 CTCCHANNEL2		equ	10b
                   00000003  B       81 CTCCHANNEL3		equ	11b
                             B       82 
                   00000000  B       83 SIOPORTADATA	equ	00b
                   00000001  B       84 SIOPORTACMD		equ	01b
                   00000002  B       85 SIOPORTBDATA	equ	10b
                   00000003  B       86 SIOPORTBCMD		equ	11b
                             B       87 
                   00000000  B       88 PIAPORTCDATA	equ	00b
                   00000001  B       89 PIAPORTCCMD		equ	01b
                             B       90 
                   00000002  B       91 KIOCOMMANDA		equ	10b
                   00000003  B       92 KIOCOMMANDB		equ	11b
                             B       93 
                             B       94 MAKEPORT	MACRO	Name,Base,Device,Register
                             B       95 Name equ Base|(Device<<10)|(Register<<8)
                             B       96 	ENDMAC 
                             B       97 
                             B       98 	.endif
                             B       99 
                             B      100 
                             B      101 	MAKEPORT PIOADATA,KIOBASE,PIOIOBASE,PIOPORTADATA
                   000000FC  B+     101 Name equ Base|(Device<<10)|(Register<<8)
                             B      102 	MAKEPORT PIOACMD,KIOBASE,PIOIOBASE,PIOPORTACMD
                   000001FC  B+     102 Name equ Base|(Device<<10)|(Register<<8)
                             B      103 	MAKEPORT PIOBDATA,KIOBASE,PIOIOBASE,PIOPORTBDATA
                   000002FC  B+     103 Name equ Base|(Device<<10)|(Register<<8)
                             B      104 	MAKEPORT PIOBCMD,KIOBASE,PIOIOBASE,PIOPORTBCMD
                   000003FC  B+     104 Name equ Base|(Device<<10)|(Register<<8)
                             B      105 
                             B      106 	MAKEPORT CTCCH0,KIOBASE,CTCIOBASE,CTCCHANNEL0
                   000004FC  B+     106 Name equ Base|(Device<<10)|(Register<<8)
                             B      107 	MAKEPORT CTCCH1,KIOBASE,CTCIOBASE,CTCCHANNEL1
                   000005FC  B+     107 Name equ Base|(Device<<10)|(Register<<8)
                             B      108 	MAKEPORT CTCCH2,KIOBASE,CTCIOBASE,CTCCHANNEL2
                   000006FC  B+     108 Name equ Base|(Device<<10)|(Register<<8)
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:    3


IODEFS.H

Location Object              Type  Line Source
                             B      109 	MAKEPORT CTCCH3,KIOBASE,CTCIOBASE,CTCCHANNEL3
                   000007FC  B+     109 Name equ Base|(Device<<10)|(Register<<8)
                             B      110 
                             B      111 	MAKEPORT SIOADATA,KIOBASE,SIOIOBASE,SIOPORTADATA
                   000008FC  B+     111 Name equ Base|(Device<<10)|(Register<<8)
                             B      112 	MAKEPORT SIOACMD,KIOBASE,SIOIOBASE,SIOPORTACMD
                   000009FC  B+     112 Name equ Base|(Device<<10)|(Register<<8)
                             B      113 	MAKEPORT SIOBDATA,KIOBASE,SIOIOBASE,SIOPORTBDATA
                   00000AFC  B+     113 Name equ Base|(Device<<10)|(Register<<8)
                             B      114 	MAKEPORT SIOBCMD,KIOBASE,SIOIOBASE,SIOPORTBCMD
                   00000BFC  B+     114 Name equ Base|(Device<<10)|(Register<<8)
                             B      115 
                             B      116 	.ifdef Z84C15
                             B      117 	.else
                             B      118 	MAKEPORT PIACDATA,KIOBASE,PIAIOBASE,PIAPORTCDATA
                   00000CFC  B+     118 Name equ Base|(Device<<10)|(Register<<8)
                             B      119 	MAKEPORT PIACCMD,KIOBASE,PIAIOBASE,PIAPORTCCMD
                   00000DFC  B+     119 Name equ Base|(Device<<10)|(Register<<8)
                             B      120 
                             B      121 	MAKEPORT KIOCMDA,KIOBASE,KIOIOBASE,KIOCOMMANDA
                   00000EFC  B+     121 Name equ Base|(Device<<10)|(Register<<8)
                             B      122 	MAKEPORT KIOCMDB,KIOBASE,KIOIOBASE,KIOCOMMANDB
                   00000FFC  B+     122 Name equ Base|(Device<<10)|(Register<<8)
                             B      123 	.endif
                             B      124 	
                   000000F0  B      125 WDTMT	equ	0F0h
                   000000F1  B      126 WDTCR	equ	0F1h
                             B      127 
                   000000F4  B      128 IPR		equ	0F4h
                             B      129 
                   000000EE  B      130 SCRP	equ	0EEh
                   000000EF  B      131 SCDP	equ	0EFh
                             B      132 
                   00000020  B      133 SERIALTXBUFFLEN	equ	020h	;must be power of 2
                             B      134 
                             B      135 DEFB MACRO P1
                             B      136 	DB P1
                             B      137 	ENDMAC
                             B      138 
                             B      139 DEFW MACRO P1
                             B      140 	DW P1
                             B      141 	ENDMAC
                             B      142 
                             B      143 DEFM MACRO P1
                             B      144 	DB P1
                             B      145 	ENDMAC
                             B      146 
                             B      147 DOOUT	MACRO	ADDR,VALUE
                             B      148 	push 	AF
                             B      149 	push 	BC
                             B      150 
                             B      151 	ld a,VALUE	; write into WR0: error reset, select WR0
                             B      152 	.ifdef Z84C15
                             B      153 	out (ADDR),A
                             B      154 	.else
                             B      155 	ld BC,ADDR
                             B      156 	out (BC),A
                             B      157 	.endif
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:    4


IODEFS.H

Location Object              Type  Line Source
                             B      158 
                             B      159 	pop 	BC
                             B      160 	pop 	AF
                             B      161 	
                             B      162 	ENDMAC 
                             B      163 
                             B      164 DOIN	MACRO	ADDR,DEST
                             B      165 	push 	AF
                             B      166 	push 	BC
                             B      167 
                             B      168 	.ifdef Z84C15
                             B      169 	in a,(ADDR)
                             B      170 	.else
                             B      171 	ld BC,ADDR
                             B      172 	in 	a,(BC)
                             B      173 	.endif
                             B      174 
                             B      175 	ld	DEST,a
                             B      176 	pop BC
                             B      177 	POP	AF
                             B      178 	
                             B      179 	ENDMAC 
                             B      180 
                             B      181 	.endif
                             B      182 
                             A        2 		  
                             A        3 	INCLUDE "SYSVARS.H"
                             B        1 ;	CPU  Z80
                             B        2 
                   00000010  B        3 BufferSize equ 16
                             B        4 
                             B        5 	EXTERN SIOINTTBL
                   00004000  B        6 RAMTOP equ RAMSTARTLOC
                             B        7 
                   00004000  B        8 TxQA equ RAMSTARTLOC	;Needs to be 16 bytle aligned
                   00004010  B        9 RxQA equ TxQA + BufferSize		;Needs to be 16 bytle aligned
                   00004020  B       10 TxQB equ RxQA + BufferSize		;Needs to be 16 bytle aligned
                   00004030  B       11 RxQB equ TxQB + BufferSize		;Needs to be 16 bytle aligned
                   00004040  B       12 KeyB equ RxQB + BufferSize		;Needs to be 16 bytle aligned
                             B       13 
                   00004060  B       14 TxQAWritePos equ KeyB + BufferSize*2
                   00004061  B       15 TxQAReadPos equ TxQAWritePos + 1
                             B       16 
                   00004062  B       17 RxQAWritePos equ TxQAReadPos + 1
                   00004063  B       18 RxQAReadPos equ RxQAWritePos + 1
                             B       19 
                   00004064  B       20 TxQBWritePos equ RxQAReadPos + 1
                   00004065  B       21 TxQBReadPos equ TxQBWritePos + 1
                   00004066  B       22 TxBIdle equ TxQBReadPos + 1
                             B       23 
                   00004067  B       24 RxQBWritePos equ TxBIdle + 1
                   00004068  B       25 RxQBReadPos equ RxQBWritePos + 1
                             B       26 
                   00004069  B       27 KeyBWritePos equ RxQBReadPos + 1
                   0000406A  B       28 KeyBReadPos equ KeyBWritePos + 1
                             B       29 
                   0000406B  B       30 SYSCLOCK equ KeyBReadPos + 1
                             B       31 
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:    5


SYSVARS.H

Location Object              Type  Line Source
                   0000406F  B       32 FLASHCOUNT equ SYSCLOCK+4
                   00004071  B       33 LOOPCOUNT equ FLASHCOUNT+2
                             B       34 
                   00004075  B       35 LOOPCOUNT2 equ LOOPCOUNT+4
                             B       36 
                   00004076  B       37 KeyBWPos	equ	LOOPCOUNT2+1 
                             B       38 
                   00004077  B       39 NEXTMEM equ KeyBWPos+1
                             B       40 
                             B       41 
                             B       42 
                             A        4 
                             A        5 	INCLUDE "DEBUGMACROS.H"
                             B        1 ;	PUBLIC 	UNDEFINT0,UNDEFINT1,UNDEFINT2,UNDEFINT3,UNDEFINT4,UNDEFINT5,UNDEFINT6,UNDEFINT7
                             B        2 
                             B        3 	EXTERN 	FAOUT,FQUADOUT,FXY2SCR,FHOUTA
                             B        4 
                             B        5 
                   00000000  B        6 DONTUSEFUNCS equ 0
                             B        7 
                             B        8 
                             B        9 COUT MACRO MADDR , CHR
                             B       10 	PUSH HL
                             B       11 
                             B       12 	LD	HL,MADDR
                             B       13 	LD 	(HL),CHR
                             B       14 
                             B       15 	POP HL
                             B       16 	ENDMAC
                             B       17 
                             B       18 COUTXY MACRO XPOS, YPOS , CHR
                             B       19 	PUSH IX
                             B       20 
                             B       21 	XY2SCR	XPOS, YPOS
                             B       22 
                             B       23 	LD 	(IX),CHR
                             B       24 
                             B       25 	POP	IX
                             B       26 
                             B       27 	ENDMAC
                             B       28 
                             B       29 
                             B       30 SP2SCR	MACRO XPOS, YPOS
                             B       31 	PUSH	HL
                             B       32 
                             B       33 	XY2SCR	XPOS, YPOS
                             B       34 
                             B       35 	LD HL,0
                             B       36 	ADD HL,SP
                             B       37 	LD A,H
                             B       38 
                             B       39 	SRL A
                             B       40 	SRL A
                             B       41 	SRL A
                             B       42 	SRL A
                             B       43 
                             B       44 	CALL FAOUT
                             B       45 
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:    6


DEBUGMACROS.H

Location Object              Type  Line Source
                             B       46 	LD HL,0
                             B       47 	ADD HL,SP
                             B       48 	LD A,H
                             B       49 
                             B       50 	AND 0FH
                             B       51 
                             B       52 	INC		IX
                             B       53 	CALL FAOUT
                             B       54 
                             B       55 	LD HL,0
                             B       56 	ADD HL,SP
                             B       57 	LD A,L
                             B       58 
                             B       59 	SRL A
                             B       60 	SRL A
                             B       61 	SRL A
                             B       62 	SRL A
                             B       63 
                             B       64 	INC		IX
                             B       65 	CALL FAOUT
                             B       66 
                             B       67 	LD HL,0
                             B       68 	ADD HL,SP
                             B       69 	LD A,L
                             B       70 
                             B       71 	AND 0FH
                             B       72 
                             B       73 	INC		IX
                             B       74 	CALL FAOUT
                             B       75 
                             B       76 	POP		HL
                             B       77 	
                             B       78 	ENDMAC
                             B       79  
                             B       80 XY2SCR	MACRO XPOS, YPOS
                             B       81 	PUSH BC
                             B       82 
                             B       83 	LD 	B,XPOS
                             B       84 	LD 	C,YPOS
                             B       85 
                             B       86 	CALL	FXY2SCR
                             B       87 
                             B       88 	POP BC
                             B       89 
                             B       90 	ENDMAC
                             B       91  
                             B       92 
                             B       93 HOUT	MACRO POS, DIN
                             B       94 	PUSH BC
                             B       95 	PUSH IX
                             B       96 
                             B       97 	LD	IX,POS
                             B       98 	LD	B,DIN
                             B       99 	call FHOUTA
                             B      100 
                             B      101 	POP	IX
                             B      102 	POP BC
                             B      103 
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:    7


DEBUGMACROS.H

Location Object              Type  Line Source
                             B      104 	ENDMAC
                             B      105 
                             B      106 HOUTXY	MACRO XPOS,YPOS, DIN
                             B      107 	PUSH BC
                             B      108 	PUSH IX
                             B      109 
                             B      110 	XY2SCR	XPOS, YPOS
                             B      111 
                             B      112 	LD	B,DIN
                             B      113 	call FHOUTA
                             B      114 
                             B      115 	POP	IX
                             B      116 	POP BC
                             B      117 
                             B      118 	ENDMAC
                             B      119 	
                             B      120 QUADOUT	MACRO XPOS, YPOS, PTR
                             B      121 	PUSH BC
                             B      122 	PUSH HL
                             B      123 
                             B      124 	LD B,XPOS 
                             B      125 	LD C,YPOS
                             B      126  	LD HL,PTR
                             B      127 
                             B      128 	call FQUADOUT
                             B      129 
                             B      130 	POP HL
                             B      131 	POP BC
                             B      132 
                             B      133 	ENDMAC
                             B      134 	   
                             B      135 STROUTXY	MACRO XPOS,YPOS,STR,STRLEN
                             B      136 	PUSH BC
                             B      137 	PUSH DE
                             B      138 	PUSH HL
                             B      139 	PUSH IX
                             B      140 
                             B      141 	XY2SCR	XPOS, YPOS
                             B      142 
                             B      143 	LD	HL,$STRSTR
                             B      144 	PUSH	IX
                             B      145 	POP		DE
                             B      146 	LD	BC,STRLEN
                             B      147 
                             B      148 	LDIR
                             B      149 	JR $LEAVE
                             B      150 
                             B      151 $STRSTR
                             B      152 	DB STR
                             B      153 $LEAVE
                             B      154 	POP	IX
                             B      155 	POP HL
                             B      156 	POP DE
                             B      157 	POP BC
                             B      158 
                             B      159 	ENDMAC
                             B      160 
                             A        6 
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:    8


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A        7 	PUBLIC 	UNDEFINT0,UNDEFINT1,UNDEFINT2,UNDEFINT3,UNDEFINT4,UNDEFINT5,UNDEFINT6,UNDEFINT7
                             A        8 
                             A        9 	EXTERN 	INTTABLEBASE,DATAOUTA,ENDFONTDATA
                             A       10 	EXTERN 	INTTBL
                             A       11 	EXTERN 	LOADCROM
                             A       12 	EXTERN	SIOTOTXBUFFB,SIORCVCHARB
                             A       13 	EXTERN	INCSYSCLOCK
                             A       14 
                             A       15 	EXTERN	QUEUETEST,InitQueue, TxQB2Scr
                             A       16 	EXTERN KIO_INIT
                             A       17 
                             A       18 	
                             A       19 	CPU = Z180
                             A       20 
                   00000080  A       21 INTON	EQU 10000000B
                   FFFFFF7F  A       22 INTOFF	EQU ~INTON
                             A       23 
                   00000040  A       24 COUNTMODE	EQU 01000000B
                   FFFFFFBF  A       25 TIMEMODE	EQU ~COUNTMODE
                             A       26 
                   00000020  A       27 PRE256	EQU 00100000B
                   FFFFFFDF  A       28 PRE16	EQU ~PRE256
                             A       29 
                   00000010  A       30 RISING	EQU 00010000B
                   FFFFFFEF  A       31 FALLING	EQU ~RISING
                             A       32 
                   00000008  A       33 PULSESTARTS	EQU 00001000B
                   FFFFFFF7  A       34 LOADSTARTS	EQU ~PULSESTARTS
                             A       35 
                   00000004  A       36 TIMECONST	EQU 00000100B
                   FFFFFFFB  A       37 NOTIMECONST	EQU ~TIMECONST
                             A       38 
                   00000002  A       39 RESET		EQU 00000010B
                   FFFFFFFD  A       40 CONSTINU	EQU ~RESET
                             A       41 
                   00000001  A       42 CONTROL		EQU 00000001B
                   FFFFFFFE  A       43 VCTOR		EQU ~CONTROL
                             A       44 
                             A       45 
                             A       46 	SEGMENT BOOT ; MAKE IT THE CURRENT SECTION
                             A       47 ;	.ORG 00H
                             A       48 
00000000 F3                  A       49 	DI
00000001 C3 00 00            A       50 	JP MAIN
                             A       51 
                             A       52 	SEGMENT CODE ; MAKE IT THE CURRENT SECTION
00000000                     A       53 MAIN:
00000000 31 FF 7F            A       54 	LD		SP,7FFF
                             A       55 ;	CALL TEST1
                             A       56 
00000003                     A       57 RAMTOPSEARCH:  
00000003 21 00 40            A       58 	LD		HL,RAMSTARTLOC			; START OF 'USER' RAM
00000006                     A       59 RAMTOPLOOP
00000006 24                  A       60 	INC		H						; INCREASE HIGH BYTE
00000007 3E 00               A       61 	LD		A,000H					; A TEST BYTE AND 1K MASKING BYTE.
00000009 BC                  A       62 	CP		H
0000000A 28 06               A       63 	JR		Z,RAMTOPLOOPEXIT		; LOOP BACK WHILE RAM IS POPULATED.
0000000C 3E FC               A       64 	LD		A,0FCH					; A TEST BYTE AND 1K MASKING BYTE.
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:    9


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
0000000E 77                  A       65 	LD		(HL),A					; INSERT A VALUE
0000000F BE                  A       66 	CP		(HL)					; COMPARE TO EXPECTED
00000010 28 F4               A       67 	JR		Z,RAMTOPLOOP			; LOOP BACK WHILE RAM IS POPULATED.
00000012                     A       68 RAMTOPLOOPEXIT:
00000012 2B                  A       69 	DEC		HL
00000013 2B                  A       70 	DEC		HL						;MAKE IT EVEN.
00000014 21 FE 7F            A       71 	LD		HL,7FFEH
00000017 22 00 40            A       72 	LD		(RAMTOP),HL					; SET SYSTEM VARIABLE RAMTOP.
0000001A F9                  A       73 	LD		SP,HL					; INITIALIZE THE STACK POINTER.
                             A       74 
                             A       75 	;CLEAR SCREEN TO X.
                             A       76 
0000001B 21 00 24            A       77 	LD HL,VIDSTARTLOC
0000001E 0E 18               A       78 	LD C,SCRLINES
00000020                     A       79 SCRY:
00000020 06 20               A       80 	LD B,SCRWIDTH
00000022                     A       81 SCRX:
00000022 36 58               A       82 	LD (HL),'X'
                             A       83 
00000024 23                  A       84 	INC HL
00000025 10 FB               A       85 	DJNZ SCRX
00000027 0D                  A       86 	DEC C
00000028 20 F6               A       87 	JR NZ,SCRY
                             A       88 
0000002A CD 00 00            A       89 	CALL LOADCROM
                             A       90 
0000002D CD 00 00            A       91 	CALL	InitQueue
                             A       92 
                             A       93 ;	JP	QUEUETEST
                             A       94 
                             A       95 	SP2SCR	02H, 0
00000030 E5                  A+      95 	PUSH	HL
                             A+      95 
                             A+      95 	XY2SCR	XPOS, YPOS
00000031 C5                  A+      95 	PUSH BC
                             A+      95 
00000032 06 02               A+      95 	LD 	B,XPOS
00000034 0E 00               A+      95 	LD 	C,YPOS
                             A+      95 
00000036 CD 00 00            A+      95 	CALL	FXY2SCR
                             A+      95 
00000039 C1                  A+      95 	POP BC
                             A+      95 
                             A+      95 
0000003A 21 00 00            A+      95 	LD HL,0
0000003D 39                  A+      95 	ADD HL,SP
0000003E 7C                  A+      95 	LD A,H
                             A+      95 
0000003F CB 3F               A+      95 	SRL A
00000041 CB 3F               A+      95 	SRL A
00000043 CB 3F               A+      95 	SRL A
00000045 CB 3F               A+      95 	SRL A
                             A+      95 
00000047 CD 00 00            A+      95 	CALL FAOUT
                             A+      95 
0000004A 21 00 00            A+      95 	LD HL,0
0000004D 39                  A+      95 	ADD HL,SP
0000004E 7C                  A+      95 	LD A,H
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   10


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A+      95 
0000004F E6 0F               A+      95 	AND 0FH
                             A+      95 
00000051 DD 23               A+      95 	INC		IX
00000053 CD 00 00            A+      95 	CALL FAOUT
                             A+      95 
00000056 21 00 00            A+      95 	LD HL,0
00000059 39                  A+      95 	ADD HL,SP
0000005A 7D                  A+      95 	LD A,L
                             A+      95 
0000005B CB 3F               A+      95 	SRL A
0000005D CB 3F               A+      95 	SRL A
0000005F CB 3F               A+      95 	SRL A
00000061 CB 3F               A+      95 	SRL A
                             A+      95 
00000063 DD 23               A+      95 	INC		IX
00000065 CD 00 00            A+      95 	CALL FAOUT
                             A+      95 
00000068 21 00 00            A+      95 	LD HL,0
0000006B 39                  A+      95 	ADD HL,SP
0000006C 7D                  A+      95 	LD A,L
                             A+      95 
0000006D E6 0F               A+      95 	AND 0FH
                             A+      95 
0000006F DD 23               A+      95 	INC		IX
00000071 CD 00 00            A+      95 	CALL FAOUT
                             A+      95 
00000074 E1                  A+      95 	POP		HL
                             A+      95 	
                             A       96 	SP2SCR	02H, 1
00000075 E5                  A+      96 	PUSH	HL
                             A+      96 
                             A+      96 	XY2SCR	XPOS, YPOS
00000076 C5                  A+      96 	PUSH BC
                             A+      96 
00000077 06 02               A+      96 	LD 	B,XPOS
00000079 0E 01               A+      96 	LD 	C,YPOS
                             A+      96 
0000007B CD 00 00            A+      96 	CALL	FXY2SCR
                             A+      96 
0000007E C1                  A+      96 	POP BC
                             A+      96 
                             A+      96 
0000007F 21 00 00            A+      96 	LD HL,0
00000082 39                  A+      96 	ADD HL,SP
00000083 7C                  A+      96 	LD A,H
                             A+      96 
00000084 CB 3F               A+      96 	SRL A
00000086 CB 3F               A+      96 	SRL A
00000088 CB 3F               A+      96 	SRL A
0000008A CB 3F               A+      96 	SRL A
                             A+      96 
0000008C CD 00 00            A+      96 	CALL FAOUT
                             A+      96 
0000008F 21 00 00            A+      96 	LD HL,0
00000092 39                  A+      96 	ADD HL,SP
00000093 7C                  A+      96 	LD A,H
                             A+      96 
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   11


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
00000094 E6 0F               A+      96 	AND 0FH
                             A+      96 
00000096 DD 23               A+      96 	INC		IX
00000098 CD 00 00            A+      96 	CALL FAOUT
                             A+      96 
0000009B 21 00 00            A+      96 	LD HL,0
0000009E 39                  A+      96 	ADD HL,SP
0000009F 7D                  A+      96 	LD A,L
                             A+      96 
000000A0 CB 3F               A+      96 	SRL A
000000A2 CB 3F               A+      96 	SRL A
000000A4 CB 3F               A+      96 	SRL A
000000A6 CB 3F               A+      96 	SRL A
                             A+      96 
000000A8 DD 23               A+      96 	INC		IX
000000AA CD 00 00            A+      96 	CALL FAOUT
                             A+      96 
000000AD 21 00 00            A+      96 	LD HL,0
000000B0 39                  A+      96 	ADD HL,SP
000000B1 7D                  A+      96 	LD A,L
                             A+      96 
000000B2 E6 0F               A+      96 	AND 0FH
                             A+      96 
000000B4 DD 23               A+      96 	INC		IX
000000B6 CD 00 00            A+      96 	CALL FAOUT
                             A+      96 
000000B9 E1                  A+      96 	POP		HL
                             A+      96 	
                             A       97 	SP2SCR	02H, 2
000000BA E5                  A+      97 	PUSH	HL
                             A+      97 
                             A+      97 	XY2SCR	XPOS, YPOS
000000BB C5                  A+      97 	PUSH BC
                             A+      97 
000000BC 06 02               A+      97 	LD 	B,XPOS
000000BE 0E 02               A+      97 	LD 	C,YPOS
                             A+      97 
000000C0 CD 00 00            A+      97 	CALL	FXY2SCR
                             A+      97 
000000C3 C1                  A+      97 	POP BC
                             A+      97 
                             A+      97 
000000C4 21 00 00            A+      97 	LD HL,0
000000C7 39                  A+      97 	ADD HL,SP
000000C8 7C                  A+      97 	LD A,H
                             A+      97 
000000C9 CB 3F               A+      97 	SRL A
000000CB CB 3F               A+      97 	SRL A
000000CD CB 3F               A+      97 	SRL A
000000CF CB 3F               A+      97 	SRL A
                             A+      97 
000000D1 CD 00 00            A+      97 	CALL FAOUT
                             A+      97 
000000D4 21 00 00            A+      97 	LD HL,0
000000D7 39                  A+      97 	ADD HL,SP
000000D8 7C                  A+      97 	LD A,H
                             A+      97 
000000D9 E6 0F               A+      97 	AND 0FH
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   12


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A+      97 
000000DB DD 23               A+      97 	INC		IX
000000DD CD 00 00            A+      97 	CALL FAOUT
                             A+      97 
000000E0 21 00 00            A+      97 	LD HL,0
000000E3 39                  A+      97 	ADD HL,SP
000000E4 7D                  A+      97 	LD A,L
                             A+      97 
000000E5 CB 3F               A+      97 	SRL A
000000E7 CB 3F               A+      97 	SRL A
000000E9 CB 3F               A+      97 	SRL A
000000EB CB 3F               A+      97 	SRL A
                             A+      97 
000000ED DD 23               A+      97 	INC		IX
000000EF CD 00 00            A+      97 	CALL FAOUT
                             A+      97 
000000F2 21 00 00            A+      97 	LD HL,0
000000F5 39                  A+      97 	ADD HL,SP
000000F6 7D                  A+      97 	LD A,L
                             A+      97 
000000F7 E6 0F               A+      97 	AND 0FH
                             A+      97 
000000F9 DD 23               A+      97 	INC		IX
000000FB CD 00 00            A+      97 	CALL FAOUT
                             A+      97 
000000FE E1                  A+      97 	POP		HL
                             A+      97 	
                             A       98 	
                             A       99 	STROUTXY 8,0, "V 005", 5 
000000FF C5                  A+      99 	PUSH BC
00000100 D5                  A+      99 	PUSH DE
00000101 E5                  A+      99 	PUSH HL
00000102 DD E5               A+      99 	PUSH IX
                             A+      99 
                             A+      99 	XY2SCR	XPOS, YPOS
00000104 C5                  A+      99 	PUSH BC
                             A+      99 
00000105 06 08               A+      99 	LD 	B,XPOS
00000107 0E 00               A+      99 	LD 	C,YPOS
                             A+      99 
00000109 CD 00 00            A+      99 	CALL	FXY2SCR
                             A+      99 
0000010C C1                  A+      99 	POP BC
                             A+      99 
                             A+      99 
0000010D 21 1A 01            A+      99 	LD	HL,$STRSTR
00000110 DD E5               A+      99 	PUSH	IX
00000112 D1                  A+      99 	POP		DE
00000113 01 05 00            A+      99 	LD	BC,STRLEN
                             A+      99 
00000116 ED B0               A+      99 	LDIR
00000118 18 05               A+      99 	JR $LEAVE
                             A+      99 
0000011A                     A+      99 $STRSTR
0000011A 56 20 30 30 35      A+      99 	DB STR
0000011F                     A+      99 $LEAVE
0000011F DD E1               A+      99 	POP	IX
00000121 E1                  A+      99 	POP HL
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   13


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
00000122 D1                  A+      99 	POP DE
00000123 C1                  A+      99 	POP BC
                             A+      99 
                             A      100 
                             A      101 	STROUTXY 15h,1, "RST08", 5 
00000124 C5                  A+     101 	PUSH BC
00000125 D5                  A+     101 	PUSH DE
00000126 E5                  A+     101 	PUSH HL
00000127 DD E5               A+     101 	PUSH IX
                             A+     101 
                             A+     101 	XY2SCR	XPOS, YPOS
00000129 C5                  A+     101 	PUSH BC
                             A+     101 
0000012A 06 15               A+     101 	LD 	B,XPOS
0000012C 0E 01               A+     101 	LD 	C,YPOS
                             A+     101 
0000012E CD 00 00            A+     101 	CALL	FXY2SCR
                             A+     101 
00000131 C1                  A+     101 	POP BC
                             A+     101 
                             A+     101 
00000132 21 3F 01            A+     101 	LD	HL,$STRSTR
00000135 DD E5               A+     101 	PUSH	IX
00000137 D1                  A+     101 	POP		DE
00000138 01 05 00            A+     101 	LD	BC,STRLEN
                             A+     101 
0000013B ED B0               A+     101 	LDIR
0000013D 18 05               A+     101 	JR $LEAVE
                             A+     101 
0000013F                     A+     101 $STRSTR
0000013F 52 53 54 30 38      A+     101 	DB STR
00000144                     A+     101 $LEAVE
00000144 DD E1               A+     101 	POP	IX
00000146 E1                  A+     101 	POP HL
00000147 D1                  A+     101 	POP DE
00000148 C1                  A+     101 	POP BC
                             A+     101 
                             A      102 	STROUTXY 15h,2, "RST10", 5 
00000149 C5                  A+     102 	PUSH BC
0000014A D5                  A+     102 	PUSH DE
0000014B E5                  A+     102 	PUSH HL
0000014C DD E5               A+     102 	PUSH IX
                             A+     102 
                             A+     102 	XY2SCR	XPOS, YPOS
0000014E C5                  A+     102 	PUSH BC
                             A+     102 
0000014F 06 15               A+     102 	LD 	B,XPOS
00000151 0E 02               A+     102 	LD 	C,YPOS
                             A+     102 
00000153 CD 00 00            A+     102 	CALL	FXY2SCR
                             A+     102 
00000156 C1                  A+     102 	POP BC
                             A+     102 
                             A+     102 
00000157 21 64 01            A+     102 	LD	HL,$STRSTR
0000015A DD E5               A+     102 	PUSH	IX
0000015C D1                  A+     102 	POP		DE
0000015D 01 05 00            A+     102 	LD	BC,STRLEN
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   14


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A+     102 
00000160 ED B0               A+     102 	LDIR
00000162 18 05               A+     102 	JR $LEAVE
                             A+     102 
00000164                     A+     102 $STRSTR
00000164 52 53 54 31 30      A+     102 	DB STR
00000169                     A+     102 $LEAVE
00000169 DD E1               A+     102 	POP	IX
0000016B E1                  A+     102 	POP HL
0000016C D1                  A+     102 	POP DE
0000016D C1                  A+     102 	POP BC
                             A+     102 
                             A      103 	STROUTXY 15h,3, "RST18", 5 
0000016E C5                  A+     103 	PUSH BC
0000016F D5                  A+     103 	PUSH DE
00000170 E5                  A+     103 	PUSH HL
00000171 DD E5               A+     103 	PUSH IX
                             A+     103 
                             A+     103 	XY2SCR	XPOS, YPOS
00000173 C5                  A+     103 	PUSH BC
                             A+     103 
00000174 06 15               A+     103 	LD 	B,XPOS
00000176 0E 03               A+     103 	LD 	C,YPOS
                             A+     103 
00000178 CD 00 00            A+     103 	CALL	FXY2SCR
                             A+     103 
0000017B C1                  A+     103 	POP BC
                             A+     103 
                             A+     103 
0000017C 21 89 01            A+     103 	LD	HL,$STRSTR
0000017F DD E5               A+     103 	PUSH	IX
00000181 D1                  A+     103 	POP		DE
00000182 01 05 00            A+     103 	LD	BC,STRLEN
                             A+     103 
00000185 ED B0               A+     103 	LDIR
00000187 18 05               A+     103 	JR $LEAVE
                             A+     103 
00000189                     A+     103 $STRSTR
00000189 52 53 54 31 38      A+     103 	DB STR
0000018E                     A+     103 $LEAVE
0000018E DD E1               A+     103 	POP	IX
00000190 E1                  A+     103 	POP HL
00000191 D1                  A+     103 	POP DE
00000192 C1                  A+     103 	POP BC
                             A+     103 
                             A      104 	STROUTXY 15h,4, "RST20", 5 
00000193 C5                  A+     104 	PUSH BC
00000194 D5                  A+     104 	PUSH DE
00000195 E5                  A+     104 	PUSH HL
00000196 DD E5               A+     104 	PUSH IX
                             A+     104 
                             A+     104 	XY2SCR	XPOS, YPOS
00000198 C5                  A+     104 	PUSH BC
                             A+     104 
00000199 06 15               A+     104 	LD 	B,XPOS
0000019B 0E 04               A+     104 	LD 	C,YPOS
                             A+     104 
0000019D CD 00 00            A+     104 	CALL	FXY2SCR
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   15


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A+     104 
000001A0 C1                  A+     104 	POP BC
                             A+     104 
                             A+     104 
000001A1 21 AE 01            A+     104 	LD	HL,$STRSTR
000001A4 DD E5               A+     104 	PUSH	IX
000001A6 D1                  A+     104 	POP		DE
000001A7 01 05 00            A+     104 	LD	BC,STRLEN
                             A+     104 
000001AA ED B0               A+     104 	LDIR
000001AC 18 05               A+     104 	JR $LEAVE
                             A+     104 
000001AE                     A+     104 $STRSTR
000001AE 52 53 54 32 30      A+     104 	DB STR
000001B3                     A+     104 $LEAVE
000001B3 DD E1               A+     104 	POP	IX
000001B5 E1                  A+     104 	POP HL
000001B6 D1                  A+     104 	POP DE
000001B7 C1                  A+     104 	POP BC
                             A+     104 
                             A      105 	STROUTXY 15h,5, "RST28", 5 
000001B8 C5                  A+     105 	PUSH BC
000001B9 D5                  A+     105 	PUSH DE
000001BA E5                  A+     105 	PUSH HL
000001BB DD E5               A+     105 	PUSH IX
                             A+     105 
                             A+     105 	XY2SCR	XPOS, YPOS
000001BD C5                  A+     105 	PUSH BC
                             A+     105 
000001BE 06 15               A+     105 	LD 	B,XPOS
000001C0 0E 05               A+     105 	LD 	C,YPOS
                             A+     105 
000001C2 CD 00 00            A+     105 	CALL	FXY2SCR
                             A+     105 
000001C5 C1                  A+     105 	POP BC
                             A+     105 
                             A+     105 
000001C6 21 D3 01            A+     105 	LD	HL,$STRSTR
000001C9 DD E5               A+     105 	PUSH	IX
000001CB D1                  A+     105 	POP		DE
000001CC 01 05 00            A+     105 	LD	BC,STRLEN
                             A+     105 
000001CF ED B0               A+     105 	LDIR
000001D1 18 05               A+     105 	JR $LEAVE
                             A+     105 
000001D3                     A+     105 $STRSTR
000001D3 52 53 54 32 38      A+     105 	DB STR
000001D8                     A+     105 $LEAVE
000001D8 DD E1               A+     105 	POP	IX
000001DA E1                  A+     105 	POP HL
000001DB D1                  A+     105 	POP DE
000001DC C1                  A+     105 	POP BC
                             A+     105 
                             A      106 	STROUTXY 15h,6, "RST30", 5 
000001DD C5                  A+     106 	PUSH BC
000001DE D5                  A+     106 	PUSH DE
000001DF E5                  A+     106 	PUSH HL
000001E0 DD E5               A+     106 	PUSH IX
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   16


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A+     106 
                             A+     106 	XY2SCR	XPOS, YPOS
000001E2 C5                  A+     106 	PUSH BC
                             A+     106 
000001E3 06 15               A+     106 	LD 	B,XPOS
000001E5 0E 06               A+     106 	LD 	C,YPOS
                             A+     106 
000001E7 CD 00 00            A+     106 	CALL	FXY2SCR
                             A+     106 
000001EA C1                  A+     106 	POP BC
                             A+     106 
                             A+     106 
000001EB 21 F8 01            A+     106 	LD	HL,$STRSTR
000001EE DD E5               A+     106 	PUSH	IX
000001F0 D1                  A+     106 	POP		DE
000001F1 01 05 00            A+     106 	LD	BC,STRLEN
                             A+     106 
000001F4 ED B0               A+     106 	LDIR
000001F6 18 05               A+     106 	JR $LEAVE
                             A+     106 
000001F8                     A+     106 $STRSTR
000001F8 52 53 54 33 30      A+     106 	DB STR
000001FD                     A+     106 $LEAVE
000001FD DD E1               A+     106 	POP	IX
000001FF E1                  A+     106 	POP HL
00000200 D1                  A+     106 	POP DE
00000201 C1                  A+     106 	POP BC
                             A+     106 
                             A      107 	STROUTXY 15h,7, "RST38", 5 
00000202 C5                  A+     107 	PUSH BC
00000203 D5                  A+     107 	PUSH DE
00000204 E5                  A+     107 	PUSH HL
00000205 DD E5               A+     107 	PUSH IX
                             A+     107 
                             A+     107 	XY2SCR	XPOS, YPOS
00000207 C5                  A+     107 	PUSH BC
                             A+     107 
00000208 06 15               A+     107 	LD 	B,XPOS
0000020A 0E 07               A+     107 	LD 	C,YPOS
                             A+     107 
0000020C CD 00 00            A+     107 	CALL	FXY2SCR
                             A+     107 
0000020F C1                  A+     107 	POP BC
                             A+     107 
                             A+     107 
00000210 21 1D 02            A+     107 	LD	HL,$STRSTR
00000213 DD E5               A+     107 	PUSH	IX
00000215 D1                  A+     107 	POP		DE
00000216 01 05 00            A+     107 	LD	BC,STRLEN
                             A+     107 
00000219 ED B0               A+     107 	LDIR
0000021B 18 05               A+     107 	JR $LEAVE
                             A+     107 
0000021D                     A+     107 $STRSTR
0000021D 52 53 54 33 38      A+     107 	DB STR
00000222                     A+     107 $LEAVE
00000222 DD E1               A+     107 	POP	IX
00000224 E1                  A+     107 	POP HL
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   17


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
00000225 D1                  A+     107 	POP DE
00000226 C1                  A+     107 	POP BC
                             A+     107 
                             A      108 	STROUTXY 15h,8, "RST66", 5 
00000227 C5                  A+     108 	PUSH BC
00000228 D5                  A+     108 	PUSH DE
00000229 E5                  A+     108 	PUSH HL
0000022A DD E5               A+     108 	PUSH IX
                             A+     108 
                             A+     108 	XY2SCR	XPOS, YPOS
0000022C C5                  A+     108 	PUSH BC
                             A+     108 
0000022D 06 15               A+     108 	LD 	B,XPOS
0000022F 0E 08               A+     108 	LD 	C,YPOS
                             A+     108 
00000231 CD 00 00            A+     108 	CALL	FXY2SCR
                             A+     108 
00000234 C1                  A+     108 	POP BC
                             A+     108 
                             A+     108 
00000235 21 42 02            A+     108 	LD	HL,$STRSTR
00000238 DD E5               A+     108 	PUSH	IX
0000023A D1                  A+     108 	POP		DE
0000023B 01 05 00            A+     108 	LD	BC,STRLEN
                             A+     108 
0000023E ED B0               A+     108 	LDIR
00000240 18 05               A+     108 	JR $LEAVE
                             A+     108 
00000242                     A+     108 $STRSTR
00000242 52 53 54 36 36      A+     108 	DB STR
00000247                     A+     108 $LEAVE
00000247 DD E1               A+     108 	POP	IX
00000249 E1                  A+     108 	POP HL
0000024A D1                  A+     108 	POP DE
0000024B C1                  A+     108 	POP BC
                             A+     108 
                             A      109 
                             A      110 	STROUTXY 15H,9, "     ", 5 
0000024C C5                  A+     110 	PUSH BC
0000024D D5                  A+     110 	PUSH DE
0000024E E5                  A+     110 	PUSH HL
0000024F DD E5               A+     110 	PUSH IX
                             A+     110 
                             A+     110 	XY2SCR	XPOS, YPOS
00000251 C5                  A+     110 	PUSH BC
                             A+     110 
00000252 06 15               A+     110 	LD 	B,XPOS
00000254 0E 09               A+     110 	LD 	C,YPOS
                             A+     110 
00000256 CD 00 00            A+     110 	CALL	FXY2SCR
                             A+     110 
00000259 C1                  A+     110 	POP BC
                             A+     110 
                             A+     110 
0000025A 21 67 02            A+     110 	LD	HL,$STRSTR
0000025D DD E5               A+     110 	PUSH	IX
0000025F D1                  A+     110 	POP		DE
00000260 01 05 00            A+     110 	LD	BC,STRLEN
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   18


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A+     110 
00000263 ED B0               A+     110 	LDIR
00000265 18 05               A+     110 	JR $LEAVE
                             A+     110 
00000267                     A+     110 $STRSTR
00000267 20 20 20 20 20      A+     110 	DB STR
0000026C                     A+     110 $LEAVE
0000026C DD E1               A+     110 	POP	IX
0000026E E1                  A+     110 	POP HL
0000026F D1                  A+     110 	POP DE
00000270 C1                  A+     110 	POP BC
                             A+     110 
                             A      111 
                             A      112 	STROUTXY 10H,0, "01234567", 8 
00000271 C5                  A+     112 	PUSH BC
00000272 D5                  A+     112 	PUSH DE
00000273 E5                  A+     112 	PUSH HL
00000274 DD E5               A+     112 	PUSH IX
                             A+     112 
                             A+     112 	XY2SCR	XPOS, YPOS
00000276 C5                  A+     112 	PUSH BC
                             A+     112 
00000277 06 10               A+     112 	LD 	B,XPOS
00000279 0E 00               A+     112 	LD 	C,YPOS
                             A+     112 
0000027B CD 00 00            A+     112 	CALL	FXY2SCR
                             A+     112 
0000027E C1                  A+     112 	POP BC
                             A+     112 
                             A+     112 
0000027F 21 8C 02            A+     112 	LD	HL,$STRSTR
00000282 DD E5               A+     112 	PUSH	IX
00000284 D1                  A+     112 	POP		DE
00000285 01 08 00            A+     112 	LD	BC,STRLEN
                             A+     112 
00000288 ED B0               A+     112 	LDIR
0000028A 18 08               A+     112 	JR $LEAVE
                             A+     112 
0000028C                     A+     112 $STRSTR
0000028C 30 31 32 33 34 35   A+     112 	DB STR
00000292 36 37               A+ d   112
00000294                     A+     112 $LEAVE
00000294 DD E1               A+     112 	POP	IX
00000296 E1                  A+     112 	POP HL
00000297 D1                  A+     112 	POP DE
00000298 C1                  A+     112 	POP BC
                             A+     112 
                             A      113 
                   00000001  A      114 INTMOD2 EQU 1
                             A      115 
                             A      116 	.IFDEF INTMOD2
00000299 21 00 00            A      117 	LD	HL,INTTBL
0000029C 7C                  A      118 	LD	A,H
0000029D ED 47               A      119 	LD	I,A
                             A      120  
                             A      121 	HOUT 2550H,H 
0000029F C5                  A+     121 	PUSH BC
000002A0 DD E5               A+     121 	PUSH IX
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   19


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A+     121 
000002A2 DD 21 50 25         A+     121 	LD	IX,POS
000002A6 44                  A+     121 	LD	B,DIN
000002A7 CD 00 00            A+     121 	call FHOUTA
                             A+     121 
000002AA DD E1               A+     121 	POP	IX
000002AC C1                  A+     121 	POP BC
                             A+     121 
                             A      122 
000002AD ED 5E               A      123 	IM	2
                             A      124 	.ELSE
                             A      125 	IM	1
                             A      126 	.ENDIF
                             A      127 
000002AF CD 00 00            A      128 	CALL 	KIO_INIT
                             A      129 
000002B2 21 6B 40            A      130 	LD HL,SYSCLOCK
000002B5 36 00               A      131 	LD (HL),0
000002B7 23                  A      132 	INC HL
000002B8 36 00               A      133 	LD (HL),0
000002BA 23                  A      134 	INC HL
000002BB 36 00               A      135 	LD (HL),0
000002BD 23                  A      136 	INC HL
000002BE 36 00               A      137 	LD (HL),0
                             A      138 
000002C0 FB                  A      139 	EI
                             A      140 
                   000000FF  A      141 TESTPAT EQU 0FFH
                             A      142 
000002C1 21 71 40            A      143 	LD  HL,LOOPCOUNT
000002C4 36 FD               A      144 	LD	(HL),0FDH
000002C6 23                  A      145 	INC HL
000002C7 36 0F               A      146 	LD	(HL),0FH
000002C9 21 75 40            A      147 	LD  HL,LOOPCOUNT2
000002CC 36 20               A      148 	LD	(HL),20h
                             A      149 	
000002CE 16 00               A      150 	LD	D,0
000002D0                     A      151 NOPER:
000002D0 21 71 40            A      152 	LD  HL,LOOPCOUNT
000002D3 35                  A      153 	DEC (HL)
000002D4 7E                  A      154 	LD	A,(HL)
000002D5 FE FF               A      155 	CP	0FFh
000002D7 20 02               A      156 	JR	NZ,NOC1
000002D9 23                  A      157 	INC HL
000002DA 35                  A      158 	DEC (HL)
000002DB                     A      159 NOC1:
000002DB 21 71 40            A      160 	LD  HL,LOOPCOUNT
000002DE 4E                  A      161 	LD	C,(HL)
000002DF 23                  A      162 	INC HL
000002E0 46                  A      163 	LD	B,(HL)
                             A      164 
000002E1 3E 00               A      165 	LD  A,0
000002E3 B8                  A      166 	CP B
000002E4 C2 F5 03            A      167 	JR NZ,SKIP
000002E7 B9                  A      168 	CP C
000002E8 C2 F5 03            A      169 	JR NZ,SKIP
                             A      170 
000002EB 21 00 24            A      171 	LD HL,VIDSTARTLOC
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   20


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
000002EE 34                  A      172 	INC (HL)
                             A      173 
                             A      174 	QUADOUT 18h,0, SYSCLOCK
000002EF C5                  A+     174 	PUSH BC
000002F0 E5                  A+     174 	PUSH HL
                             A+     174 
000002F1 06 18               A+     174 	LD B,XPOS 
000002F3 0E 00               A+     174 	LD C,YPOS
000002F5 21 6B 40            A+     174  	LD HL,PTR
                             A+     174 
000002F8 CD 00 00            A+     174 	call FQUADOUT
                             A+     174 
000002FB E1                  A+     174 	POP HL
000002FC C1                  A+     174 	POP BC
                             A+     174 
                             A      175 
000002FD CD 00 00            A      176 	CALL DATAOUTA
                             A      177 
00000300 1E 16               A      178 	ld		e,22
00000302 CD 00 00            A      179 	CALL TxQB2Scr
00000305 CD 00 00            A      180 	CALL SIORCVCHARB
00000308 FE 01               A      181 	CP 	1
0000030A C2 1F 03            A      182 	JP	NZ,NOCHARIN
                             A      183 
0000030D 21 40 40            A      184 	LD	HL,KeyB
00000310 3A 69 40            A      185 	LD	a,(KeyBWritePos)
00000313 85                  A      186 	ADD	L
00000314 6F                  A      187 	LD	L,a
00000315 71                  A      188 	LD	(HL),c
00000316 3A 69 40            A      189 	LD	a,(KeyBWritePos)
00000319 3C                  A      190 	inc	a
0000031A E6 1F               A      191 	and	1Fh
0000031C 32 69 40            A      192 	ld	(KeyBWritePos),a
                             A      193 
0000031F                     A      194 NOCHARIN:
                             A      195 
                             A      196 	XY2SCR	0, 017h
0000031F C5                  A+     196 	PUSH BC
                             A+     196 
00000320 06 00               A+     196 	LD 	B,XPOS
00000322 0E 17               A+     196 	LD 	C,YPOS
                             A+     196 
00000324 CD 00 00            A+     196 	CALL	FXY2SCR
                             A+     196 
00000327 C1                  A+     196 	POP BC
                             A+     196 
00000328 DD E5               A      197 	push	ix
0000032A D1                  A      198 	pop		de
0000032B 01 20 00            A      199 	ld		bc,BufferSize*2
0000032E 21 40 40            A      200 	ld		hl,KeyB
00000331 ED B0               A      201 	LDIR
                             A      202 ;	COUTXY 0, 20 , C
                             A      203 
00000333 21 75 40            A      204 	LD  HL,LOOPCOUNT2
00000336 35                  A      205 	DEC (HL)
00000337 7E                  A      206 	LD	A,(HL)
                             A      207 
                             A      208 	HOUT 	25BEH, (HL)
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   21


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
00000338 C5                  A+     208 	PUSH BC
00000339 DD E5               A+     208 	PUSH IX
                             A+     208 
0000033B DD 21 BE 25         A+     208 	LD	IX,POS
0000033F 46                  A+     208 	LD	B,DIN
00000340 CD 00 00            A+     208 	call FHOUTA
                             A+     208 
00000343 DD E1               A+     208 	POP	IX
00000345 C1                  A+     208 	POP BC
                             A+     208 
                             A      209 
00000346 FE 00               A      210 	CP	0
00000348 20 25               A      211 	jr nz,NOGO
                             A      212 
0000034A 36 20               A      213 	LD	(HL),20h
                             A      214 
0000034C 3E 0D               A      215 	ld	A,0Dh
0000034E CD 00 00            A      216 	call SIOTOTXBUFFB
00000351 3E 0A               A      217 	ld	A,0Ah
00000353 CD 00 00            A      218 	call SIOTOTXBUFFB
00000356 3E 41               A      219 	ld	A,'A'
00000358 CD 00 00            A      220 	call SIOTOTXBUFFB
0000035B 3E 42               A      221 	ld	A,'B'
0000035D CD 00 00            A      222 	call SIOTOTXBUFFB
00000360 3E 43               A      223 	ld	A,'C'
00000362 CD 00 00            A      224 	call SIOTOTXBUFFB
00000365 3E 44               A      225 	ld	A,'D'
00000367 CD 00 00            A      226 	call SIOTOTXBUFFB
0000036A 3E 45               A      227 	ld	A,'E'
0000036C CD 00 00            A      228 	call SIOTOTXBUFFB
0000036F                     A      229 NOGO:
                             A      230 
                             A      231 	.ifdef TESTINT
                             A      232 	LD	A,I
                             A      233     JP PE,INTEN  
                             A      234    	STROUTXY 0h,17H, "INT D", 5 
                             A      235 	JR IQDONE
                             A      236 INTEN:
                             A      237 	STROUTXY 0h,17H, "INT E", 5 
                             A      238 IQDONE:
                             A      239 	.endif
                             A      240 
0000036F 21 00 48            A      241 	LD HL,4800H
00000372 3E FF               A      242 	LD A,TESTPAT
00000374 77                  A      243 	LD (HL),A
00000375 00                  A      244 	NOP
00000376 7E                  A      245 	LD A,(HL)
00000377 FE FF               A      246 	CP TESTPAT
00000379 20 3E               A      247 	JR NZ,ERR
0000037B 4F                  A      248 	LD C,A
                             A      249 	HOUT VIDSTARTLOC+65H,C 
0000037C C5                  A+     249 	PUSH BC
0000037D DD E5               A+     249 	PUSH IX
                             A+     249 
0000037F DD 21 65 24         A+     249 	LD	IX,POS
00000383 41                  A+     249 	LD	B,DIN
00000384 CD 00 00            A+     249 	call FHOUTA
                             A+     249 
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   22


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
00000387 DD E1               A+     249 	POP	IX
00000389 C1                  A+     249 	POP BC
                             A+     249 
                             A      250 	STROUTXY 02h,03H, "OK ", 3 
0000038A C5                  A+     250 	PUSH BC
0000038B D5                  A+     250 	PUSH DE
0000038C E5                  A+     250 	PUSH HL
0000038D DD E5               A+     250 	PUSH IX
                             A+     250 
                             A+     250 	XY2SCR	XPOS, YPOS
0000038F C5                  A+     250 	PUSH BC
                             A+     250 
00000390 06 02               A+     250 	LD 	B,XPOS
00000392 0E 03               A+     250 	LD 	C,YPOS
                             A+     250 
00000394 CD 00 00            A+     250 	CALL	FXY2SCR
                             A+     250 
00000397 C1                  A+     250 	POP BC
                             A+     250 
                             A+     250 
00000398 21 A5 03            A+     250 	LD	HL,$STRSTR
0000039B DD E5               A+     250 	PUSH	IX
0000039D D1                  A+     250 	POP		DE
0000039E 01 03 00            A+     250 	LD	BC,STRLEN
                             A+     250 
000003A1 ED B0               A+     250 	LDIR
000003A3 18 03               A+     250 	JR $LEAVE
                             A+     250 
000003A5                     A+     250 $STRSTR
000003A5 4F 4B 20            A+     250 	DB STR
000003A8                     A+     250 $LEAVE
000003A8 DD E1               A+     250 	POP	IX
000003AA E1                  A+     250 	POP HL
000003AB D1                  A+     250 	POP DE
000003AC C1                  A+     250 	POP BC
                             A+     250 
000003AD 21 71 40            A      251 	LD  HL,LOOPCOUNT
000003B0 36 FE               A      252 	LD	(HL),0FEH
000003B2 23                  A      253 	INC HL
000003B3 36 0F               A      254 	LD	(HL),0FH
000003B5 16 00               A      255 	LD	D,0
000003B7 18 3C               A      256 	JR SKIP
000003B9                     A      257 ERR:
000003B9 4F                  A      258 	LD C,A
                             A      259 	HOUT VIDSTARTLOC+85H, C 
000003BA C5                  A+     259 	PUSH BC
000003BB DD E5               A+     259 	PUSH IX
                             A+     259 
000003BD DD 21 85 24         A+     259 	LD	IX,POS
000003C1 41                  A+     259 	LD	B,DIN
000003C2 CD 00 00            A+     259 	call FHOUTA
                             A+     259 
000003C5 DD E1               A+     259 	POP	IX
000003C7 C1                  A+     259 	POP BC
                             A+     259 
                             A      260 	STROUTXY 02h,03H, "NOK", 3 
000003C8 C5                  A+     260 	PUSH BC
000003C9 D5                  A+     260 	PUSH DE
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   23


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
000003CA E5                  A+     260 	PUSH HL
000003CB DD E5               A+     260 	PUSH IX
                             A+     260 
                             A+     260 	XY2SCR	XPOS, YPOS
000003CD C5                  A+     260 	PUSH BC
                             A+     260 
000003CE 06 02               A+     260 	LD 	B,XPOS
000003D0 0E 03               A+     260 	LD 	C,YPOS
                             A+     260 
000003D2 CD 00 00            A+     260 	CALL	FXY2SCR
                             A+     260 
000003D5 C1                  A+     260 	POP BC
                             A+     260 
                             A+     260 
000003D6 21 E3 03            A+     260 	LD	HL,$STRSTR
000003D9 DD E5               A+     260 	PUSH	IX
000003DB D1                  A+     260 	POP		DE
000003DC 01 03 00            A+     260 	LD	BC,STRLEN
                             A+     260 
000003DF ED B0               A+     260 	LDIR
000003E1 18 03               A+     260 	JR $LEAVE
                             A+     260 
000003E3                     A+     260 $STRSTR
000003E3 4E 4F 4B            A+     260 	DB STR
000003E6                     A+     260 $LEAVE
000003E6 DD E1               A+     260 	POP	IX
000003E8 E1                  A+     260 	POP HL
000003E9 D1                  A+     260 	POP DE
000003EA C1                  A+     260 	POP BC
                             A+     260 
000003EB 21 71 40            A      261 	LD  HL,LOOPCOUNT
000003EE 36 FE               A      262 	LD	(HL),0FEH
000003F0 23                  A      263 	INC HL
000003F1 36 0F               A      264 	LD	(HL),0FH
000003F3 16 00               A      265 	LD	D,0
000003F5                     A      266 	SKIP:
000003F5 C3 D0 02            A      267 	JR NOPER
                             A      268 
000003F8                     A      269 UNDEFINT0:
000003F8 F5                  A      270 	PUSH	AF
000003F9 E5                  A      271 	PUSH HL
000003FA 21 10 24            A      272 	LD HL,VIDSTARTLOC+10H
                             A      273 
000003FD 3E 80               A      274 	LD A,080H
000003FF AE                  A      275 	XOR (HL)
00000400 77                  A      276 	LD (HL),A
                             A      277 
                             A      278 	STROUTXY 10H,0Ch, "UNDEFINT0", 9 
00000401 C5                  A+     278 	PUSH BC
00000402 D5                  A+     278 	PUSH DE
00000403 E5                  A+     278 	PUSH HL
00000404 DD E5               A+     278 	PUSH IX
                             A+     278 
                             A+     278 	XY2SCR	XPOS, YPOS
00000406 C5                  A+     278 	PUSH BC
                             A+     278 
00000407 06 10               A+     278 	LD 	B,XPOS
00000409 0E 0C               A+     278 	LD 	C,YPOS
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   24


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A+     278 
0000040B CD 00 00            A+     278 	CALL	FXY2SCR
                             A+     278 
0000040E C1                  A+     278 	POP BC
                             A+     278 
                             A+     278 
0000040F 21 1C 04            A+     278 	LD	HL,$STRSTR
00000412 DD E5               A+     278 	PUSH	IX
00000414 D1                  A+     278 	POP		DE
00000415 01 09 00            A+     278 	LD	BC,STRLEN
                             A+     278 
00000418 ED B0               A+     278 	LDIR
0000041A 18 09               A+     278 	JR $LEAVE
                             A+     278 
0000041C                     A+     278 $STRSTR
0000041C 55 4E 44 45 46 49   A+     278 	DB STR
00000422 4E 54 30            A+ d   278
00000425                     A+     278 $LEAVE
00000425 DD E1               A+     278 	POP	IX
00000427 E1                  A+     278 	POP HL
00000428 D1                  A+     278 	POP DE
00000429 C1                  A+     278 	POP BC
                             A+     278 
                             A      279 	
0000042A E1                  A      280 	POP HL
0000042B F1                  A      281 	POP	AF
0000042C FB                  A      282 	EI
0000042D ED 4D               A      283 	RETI
                             A      284 
0000042F                     A      285 UNDEFINT1:
0000042F F5                  A      286 	PUSH	AF
00000430 E5                  A      287 	PUSH HL
00000431 21 11 24            A      288 	LD HL,VIDSTARTLOC+11H
                             A      289 
00000434 3E 80               A      290 	LD A,080H
00000436 AE                  A      291 	XOR (HL)
00000437 77                  A      292 	LD (HL),A
                             A      293 
                             A      294 	STROUTXY 10H,0Ch, "UNDEFINT1", 9 
00000438 C5                  A+     294 	PUSH BC
00000439 D5                  A+     294 	PUSH DE
0000043A E5                  A+     294 	PUSH HL
0000043B DD E5               A+     294 	PUSH IX
                             A+     294 
                             A+     294 	XY2SCR	XPOS, YPOS
0000043D C5                  A+     294 	PUSH BC
                             A+     294 
0000043E 06 10               A+     294 	LD 	B,XPOS
00000440 0E 0C               A+     294 	LD 	C,YPOS
                             A+     294 
00000442 CD 00 00            A+     294 	CALL	FXY2SCR
                             A+     294 
00000445 C1                  A+     294 	POP BC
                             A+     294 
                             A+     294 
00000446 21 53 04            A+     294 	LD	HL,$STRSTR
00000449 DD E5               A+     294 	PUSH	IX
0000044B D1                  A+     294 	POP		DE
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   25


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
0000044C 01 09 00            A+     294 	LD	BC,STRLEN
                             A+     294 
0000044F ED B0               A+     294 	LDIR
00000451 18 09               A+     294 	JR $LEAVE
                             A+     294 
00000453                     A+     294 $STRSTR
00000453 55 4E 44 45 46 49   A+     294 	DB STR
00000459 4E 54 31            A+ d   294
0000045C                     A+     294 $LEAVE
0000045C DD E1               A+     294 	POP	IX
0000045E E1                  A+     294 	POP HL
0000045F D1                  A+     294 	POP DE
00000460 C1                  A+     294 	POP BC
                             A+     294 
                             A      295 	
00000461 E1                  A      296 	POP HL
00000462 F1                  A      297 	POP	AF
00000463 FB                  A      298 	EI
00000464 ED 4D               A      299 	RETI
                             A      300 
00000466                     A      301 UNDEFINT2:
00000466 F5                  A      302 	PUSH	AF
00000467 E5                  A      303 	PUSH HL
00000468 21 12 24            A      304 	LD HL,VIDSTARTLOC+12H
                             A      305 
0000046B 3E 80               A      306 	LD A,80H
0000046D AE                  A      307 	XOR (HL)
0000046E 77                  A      308 	LD (HL),A
                             A      309 
                             A      310 	STROUTXY 10H,0Ch, "UNDEFINT2", 9 
0000046F C5                  A+     310 	PUSH BC
00000470 D5                  A+     310 	PUSH DE
00000471 E5                  A+     310 	PUSH HL
00000472 DD E5               A+     310 	PUSH IX
                             A+     310 
                             A+     310 	XY2SCR	XPOS, YPOS
00000474 C5                  A+     310 	PUSH BC
                             A+     310 
00000475 06 10               A+     310 	LD 	B,XPOS
00000477 0E 0C               A+     310 	LD 	C,YPOS
                             A+     310 
00000479 CD 00 00            A+     310 	CALL	FXY2SCR
                             A+     310 
0000047C C1                  A+     310 	POP BC
                             A+     310 
                             A+     310 
0000047D 21 8A 04            A+     310 	LD	HL,$STRSTR
00000480 DD E5               A+     310 	PUSH	IX
00000482 D1                  A+     310 	POP		DE
00000483 01 09 00            A+     310 	LD	BC,STRLEN
                             A+     310 
00000486 ED B0               A+     310 	LDIR
00000488 18 09               A+     310 	JR $LEAVE
                             A+     310 
0000048A                     A+     310 $STRSTR
0000048A 55 4E 44 45 46 49   A+     310 	DB STR
00000490 4E 54 32            A+ d   310
00000493                     A+     310 $LEAVE
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   26


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
00000493 DD E1               A+     310 	POP	IX
00000495 E1                  A+     310 	POP HL
00000496 D1                  A+     310 	POP DE
00000497 C1                  A+     310 	POP BC
                             A+     310 
00000498 E1                  A      311 	POP HL
00000499 F1                  A      312 	POP	AF
0000049A FB                  A      313 	EI
0000049B ED 4D               A      314 	RETI
                             A      315 
                             A      316 
0000049D                     A      317 UNDEFINT3:
0000049D F5                  A      318 	PUSH	AF
0000049E E5                  A      319 	PUSH HL
0000049F 21 13 24            A      320 	LD HL,VIDSTARTLOC+13H
                             A      321 
000004A2 3E 80               A      322 	LD A,80H
000004A4 AE                  A      323 	XOR (HL)
000004A5 77                  A      324 	LD (HL),A
                             A      325 
                             A      326 	STROUTXY 10H,0Ch, "UNDEFINT3", 9 
000004A6 C5                  A+     326 	PUSH BC
000004A7 D5                  A+     326 	PUSH DE
000004A8 E5                  A+     326 	PUSH HL
000004A9 DD E5               A+     326 	PUSH IX
                             A+     326 
                             A+     326 	XY2SCR	XPOS, YPOS
000004AB C5                  A+     326 	PUSH BC
                             A+     326 
000004AC 06 10               A+     326 	LD 	B,XPOS
000004AE 0E 0C               A+     326 	LD 	C,YPOS
                             A+     326 
000004B0 CD 00 00            A+     326 	CALL	FXY2SCR
                             A+     326 
000004B3 C1                  A+     326 	POP BC
                             A+     326 
                             A+     326 
000004B4 21 C1 04            A+     326 	LD	HL,$STRSTR
000004B7 DD E5               A+     326 	PUSH	IX
000004B9 D1                  A+     326 	POP		DE
000004BA 01 09 00            A+     326 	LD	BC,STRLEN
                             A+     326 
000004BD ED B0               A+     326 	LDIR
000004BF 18 09               A+     326 	JR $LEAVE
                             A+     326 
000004C1                     A+     326 $STRSTR
000004C1 55 4E 44 45 46 49   A+     326 	DB STR
000004C7 4E 54 33            A+ d   326
000004CA                     A+     326 $LEAVE
000004CA DD E1               A+     326 	POP	IX
000004CC E1                  A+     326 	POP HL
000004CD D1                  A+     326 	POP DE
000004CE C1                  A+     326 	POP BC
                             A+     326 
000004CF E1                  A      327 	POP HL
000004D0 F1                  A      328 	POP	AF
000004D1 FB                  A      329 	EI
000004D2 ED 4D               A      330 	RETI
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   27


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A      331 
000004D4                     A      332 UNDEFINT4:
000004D4 F5                  A      333 	PUSH	AF
000004D5 E5                  A      334 	PUSH HL
000004D6 21 14 24            A      335 	LD HL,VIDSTARTLOC+14H
                             A      336 
000004D9 3E 80               A      337 	LD A,080H
000004DB AE                  A      338 	XOR (HL)
000004DC 77                  A      339 	LD (HL),A
                             A      340 
                             A      341 	STROUTXY 10H,0Ch, "UNDEFINT4", 9 
000004DD C5                  A+     341 	PUSH BC
000004DE D5                  A+     341 	PUSH DE
000004DF E5                  A+     341 	PUSH HL
000004E0 DD E5               A+     341 	PUSH IX
                             A+     341 
                             A+     341 	XY2SCR	XPOS, YPOS
000004E2 C5                  A+     341 	PUSH BC
                             A+     341 
000004E3 06 10               A+     341 	LD 	B,XPOS
000004E5 0E 0C               A+     341 	LD 	C,YPOS
                             A+     341 
000004E7 CD 00 00            A+     341 	CALL	FXY2SCR
                             A+     341 
000004EA C1                  A+     341 	POP BC
                             A+     341 
                             A+     341 
000004EB 21 F8 04            A+     341 	LD	HL,$STRSTR
000004EE DD E5               A+     341 	PUSH	IX
000004F0 D1                  A+     341 	POP		DE
000004F1 01 09 00            A+     341 	LD	BC,STRLEN
                             A+     341 
000004F4 ED B0               A+     341 	LDIR
000004F6 18 09               A+     341 	JR $LEAVE
                             A+     341 
000004F8                     A+     341 $STRSTR
000004F8 55 4E 44 45 46 49   A+     341 	DB STR
000004FE 4E 54 34            A+ d   341
00000501                     A+     341 $LEAVE
00000501 DD E1               A+     341 	POP	IX
00000503 E1                  A+     341 	POP HL
00000504 D1                  A+     341 	POP DE
00000505 C1                  A+     341 	POP BC
                             A+     341 
00000506 E1                  A      342 	POP HL
00000507 F1                  A      343 	POP	AF
00000508 FB                  A      344 	EI
00000509 ED 4D               A      345 	RETI
                             A      346 
0000050B                     A      347 UNDEFINT5:
0000050B F5                  A      348 	PUSH	AF
0000050C E5                  A      349 	PUSH HL
0000050D 21 15 24            A      350 	LD HL,VIDSTARTLOC+15H
                             A      351 
00000510 3E 80               A      352 	LD A,080H
00000512 AE                  A      353 	XOR (HL)
00000513 77                  A      354 	LD (HL),A
                             A      355 
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   28


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A      356 	STROUTXY 10H,0Ch, "UNDEFINT5", 9 
00000514 C5                  A+     356 	PUSH BC
00000515 D5                  A+     356 	PUSH DE
00000516 E5                  A+     356 	PUSH HL
00000517 DD E5               A+     356 	PUSH IX
                             A+     356 
                             A+     356 	XY2SCR	XPOS, YPOS
00000519 C5                  A+     356 	PUSH BC
                             A+     356 
0000051A 06 10               A+     356 	LD 	B,XPOS
0000051C 0E 0C               A+     356 	LD 	C,YPOS
                             A+     356 
0000051E CD 00 00            A+     356 	CALL	FXY2SCR
                             A+     356 
00000521 C1                  A+     356 	POP BC
                             A+     356 
                             A+     356 
00000522 21 2F 05            A+     356 	LD	HL,$STRSTR
00000525 DD E5               A+     356 	PUSH	IX
00000527 D1                  A+     356 	POP		DE
00000528 01 09 00            A+     356 	LD	BC,STRLEN
                             A+     356 
0000052B ED B0               A+     356 	LDIR
0000052D 18 09               A+     356 	JR $LEAVE
                             A+     356 
0000052F                     A+     356 $STRSTR
0000052F 55 4E 44 45 46 49   A+     356 	DB STR
00000535 4E 54 35            A+ d   356
00000538                     A+     356 $LEAVE
00000538 DD E1               A+     356 	POP	IX
0000053A E1                  A+     356 	POP HL
0000053B D1                  A+     356 	POP DE
0000053C C1                  A+     356 	POP BC
                             A+     356 
0000053D E1                  A      357 	POP HL
0000053E F1                  A      358 	POP	AF
0000053F FB                  A      359 	EI
00000540 ED 4D               A      360 	RETI
                             A      361 
00000542                     A      362 UNDEFINT6:
00000542 F5                  A      363 	PUSH	AF
00000543 E5                  A      364 	PUSH HL
00000544 21 16 24            A      365 	LD HL,VIDSTARTLOC+16H
                             A      366 
00000547 3E 80               A      367 	LD A,80H
00000549 AE                  A      368 	XOR (HL)
0000054A 77                  A      369 	LD (HL),A
                             A      370 
                             A      371 	STROUTXY 10H,0Ch, "UNDEFINT6", 9 
0000054B C5                  A+     371 	PUSH BC
0000054C D5                  A+     371 	PUSH DE
0000054D E5                  A+     371 	PUSH HL
0000054E DD E5               A+     371 	PUSH IX
                             A+     371 
                             A+     371 	XY2SCR	XPOS, YPOS
00000550 C5                  A+     371 	PUSH BC
                             A+     371 
00000551 06 10               A+     371 	LD 	B,XPOS
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   29


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
00000553 0E 0C               A+     371 	LD 	C,YPOS
                             A+     371 
00000555 CD 00 00            A+     371 	CALL	FXY2SCR
                             A+     371 
00000558 C1                  A+     371 	POP BC
                             A+     371 
                             A+     371 
00000559 21 66 05            A+     371 	LD	HL,$STRSTR
0000055C DD E5               A+     371 	PUSH	IX
0000055E D1                  A+     371 	POP		DE
0000055F 01 09 00            A+     371 	LD	BC,STRLEN
                             A+     371 
00000562 ED B0               A+     371 	LDIR
00000564 18 09               A+     371 	JR $LEAVE
                             A+     371 
00000566                     A+     371 $STRSTR
00000566 55 4E 44 45 46 49   A+     371 	DB STR
0000056C 4E 54 36            A+ d   371
0000056F                     A+     371 $LEAVE
0000056F DD E1               A+     371 	POP	IX
00000571 E1                  A+     371 	POP HL
00000572 D1                  A+     371 	POP DE
00000573 C1                  A+     371 	POP BC
                             A+     371 
00000574 E1                  A      372 	POP HL
00000575 F1                  A      373 	POP	AF
00000576 FB                  A      374 	EI
00000577 ED 4D               A      375 	RETI
                             A      376 
                             A      377 
00000579                     A      378 UNDEFINT7:
00000579 F5                  A      379 	PUSH	AF
0000057A E5                  A      380 	PUSH HL
0000057B 21 17 24            A      381 	LD HL,VIDSTARTLOC+17H
                             A      382 
0000057E 3E 80               A      383 	LD A,80H
00000580 AE                  A      384 	XOR (HL)
00000581 77                  A      385 	LD (HL),A
                             A      386 
                             A      387 	STROUTXY 10H,0Ch, "UNDEFINT7", 9 
00000582 C5                  A+     387 	PUSH BC
00000583 D5                  A+     387 	PUSH DE
00000584 E5                  A+     387 	PUSH HL
00000585 DD E5               A+     387 	PUSH IX
                             A+     387 
                             A+     387 	XY2SCR	XPOS, YPOS
00000587 C5                  A+     387 	PUSH BC
                             A+     387 
00000588 06 10               A+     387 	LD 	B,XPOS
0000058A 0E 0C               A+     387 	LD 	C,YPOS
                             A+     387 
0000058C CD 00 00            A+     387 	CALL	FXY2SCR
                             A+     387 
0000058F C1                  A+     387 	POP BC
                             A+     387 
                             A+     387 
00000590 21 9D 05            A+     387 	LD	HL,$STRSTR
00000593 DD E5               A+     387 	PUSH	IX
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   30


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
00000595 D1                  A+     387 	POP		DE
00000596 01 09 00            A+     387 	LD	BC,STRLEN
                             A+     387 
00000599 ED B0               A+     387 	LDIR
0000059B 18 09               A+     387 	JR $LEAVE
                             A+     387 
0000059D                     A+     387 $STRSTR
0000059D 55 4E 44 45 46 49   A+     387 	DB STR
000005A3 4E 54 37            A+ d   387
000005A6                     A+     387 $LEAVE
000005A6 DD E1               A+     387 	POP	IX
000005A8 E1                  A+     387 	POP HL
000005A9 D1                  A+     387 	POP DE
000005AA C1                  A+     387 	POP BC
                             A+     387 
000005AB E1                  A      388 	POP HL
000005AC F1                  A      389 	POP	AF
000005AD FB                  A      390 	EI
000005AE ED 4D               A      391 	RETI
                             A      392 
000005B0                     A      393 RST08HANDLER:
000005B0 C1                  A      394 	POP		BC
000005B1 C5                  A      395 	PUSH	BC
                             A      396 
                             A      397 	HOUT VIDSTARTLOC+3BH,B 
000005B2 C5                  A+     397 	PUSH BC
000005B3 DD E5               A+     397 	PUSH IX
                             A+     397 
000005B5 DD 21 3B 24         A+     397 	LD	IX,POS
000005B9 40                  A+     397 	LD	B,DIN
000005BA CD 00 00            A+     397 	call FHOUTA
                             A+     397 
000005BD DD E1               A+     397 	POP	IX
000005BF C1                  A+     397 	POP BC
                             A+     397 
                             A      398 	HOUT VIDSTARTLOC+3DH,C 
000005C0 C5                  A+     398 	PUSH BC
000005C1 DD E5               A+     398 	PUSH IX
                             A+     398 
000005C3 DD 21 3D 24         A+     398 	LD	IX,POS
000005C7 41                  A+     398 	LD	B,DIN
000005C8 CD 00 00            A+     398 	call FHOUTA
                             A+     398 
000005CB DD E1               A+     398 	POP	IX
000005CD C1                  A+     398 	POP BC
                             A+     398 
                             A      399 
000005CE E5                  A      400 	PUSH HL
000005CF 21 30 24            A      401 	LD HL,VIDSTARTLOC+30H
000005D2 34                  A      402 	INC (HL)
                             A      403 	STROUTXY 15H,09H, "RST08", 5 
000005D3 C5                  A+     403 	PUSH BC
000005D4 D5                  A+     403 	PUSH DE
000005D5 E5                  A+     403 	PUSH HL
000005D6 DD E5               A+     403 	PUSH IX
                             A+     403 
                             A+     403 	XY2SCR	XPOS, YPOS
000005D8 C5                  A+     403 	PUSH BC
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   31


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A+     403 
000005D9 06 15               A+     403 	LD 	B,XPOS
000005DB 0E 09               A+     403 	LD 	C,YPOS
                             A+     403 
000005DD CD 00 00            A+     403 	CALL	FXY2SCR
                             A+     403 
000005E0 C1                  A+     403 	POP BC
                             A+     403 
                             A+     403 
000005E1 21 EE 05            A+     403 	LD	HL,$STRSTR
000005E4 DD E5               A+     403 	PUSH	IX
000005E6 D1                  A+     403 	POP		DE
000005E7 01 05 00            A+     403 	LD	BC,STRLEN
                             A+     403 
000005EA ED B0               A+     403 	LDIR
000005EC 18 05               A+     403 	JR $LEAVE
                             A+     403 
000005EE                     A+     403 $STRSTR
000005EE 52 53 54 30 38      A+     403 	DB STR
000005F3                     A+     403 $LEAVE
000005F3 DD E1               A+     403 	POP	IX
000005F5 E1                  A+     403 	POP HL
000005F6 D1                  A+     403 	POP DE
000005F7 C1                  A+     403 	POP BC
                             A+     403 
000005F8 E1                  A      404 	POP HL
000005F9 C9                  A      405 	RET
                             A      406 
000005FA                     A      407 RST10HANDLER:
000005FA C1                  A      408 	POP		BC
000005FB C5                  A      409 	PUSH	BC
                             A      410 
                             A      411 	HOUT VIDSTARTLOC+5BH,B 
000005FC C5                  A+     411 	PUSH BC
000005FD DD E5               A+     411 	PUSH IX
                             A+     411 
000005FF DD 21 5B 24         A+     411 	LD	IX,POS
00000603 40                  A+     411 	LD	B,DIN
00000604 CD 00 00            A+     411 	call FHOUTA
                             A+     411 
00000607 DD E1               A+     411 	POP	IX
00000609 C1                  A+     411 	POP BC
                             A+     411 
                             A      412 	HOUT VIDSTARTLOC+5DH,C 
0000060A C5                  A+     412 	PUSH BC
0000060B DD E5               A+     412 	PUSH IX
                             A+     412 
0000060D DD 21 5D 24         A+     412 	LD	IX,POS
00000611 41                  A+     412 	LD	B,DIN
00000612 CD 00 00            A+     412 	call FHOUTA
                             A+     412 
00000615 DD E1               A+     412 	POP	IX
00000617 C1                  A+     412 	POP BC
                             A+     412 
                             A      413 
00000618 E5                  A      414 	PUSH HL
00000619 21 50 24            A      415 	LD HL,VIDSTARTLOC+50H
0000061C 34                  A      416 	INC (HL)
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   32


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A      417 	STROUTXY 15H,09H, "RST10", 5 
0000061D C5                  A+     417 	PUSH BC
0000061E D5                  A+     417 	PUSH DE
0000061F E5                  A+     417 	PUSH HL
00000620 DD E5               A+     417 	PUSH IX
                             A+     417 
                             A+     417 	XY2SCR	XPOS, YPOS
00000622 C5                  A+     417 	PUSH BC
                             A+     417 
00000623 06 15               A+     417 	LD 	B,XPOS
00000625 0E 09               A+     417 	LD 	C,YPOS
                             A+     417 
00000627 CD 00 00            A+     417 	CALL	FXY2SCR
                             A+     417 
0000062A C1                  A+     417 	POP BC
                             A+     417 
                             A+     417 
0000062B 21 38 06            A+     417 	LD	HL,$STRSTR
0000062E DD E5               A+     417 	PUSH	IX
00000630 D1                  A+     417 	POP		DE
00000631 01 05 00            A+     417 	LD	BC,STRLEN
                             A+     417 
00000634 ED B0               A+     417 	LDIR
00000636 18 05               A+     417 	JR $LEAVE
                             A+     417 
00000638                     A+     417 $STRSTR
00000638 52 53 54 31 30      A+     417 	DB STR
0000063D                     A+     417 $LEAVE
0000063D DD E1               A+     417 	POP	IX
0000063F E1                  A+     417 	POP HL
00000640 D1                  A+     417 	POP DE
00000641 C1                  A+     417 	POP BC
                             A+     417 
00000642 E1                  A      418 	POP HL
00000643 C9                  A      419 	RET
                             A      420 
00000644                     A      421 RST18HANDLER:
00000644 C1                  A      422 	POP		BC
00000645 C5                  A      423 	PUSH	BC
                             A      424 
                             A      425 	HOUT VIDSTARTLOC+7BH,B 
00000646 C5                  A+     425 	PUSH BC
00000647 DD E5               A+     425 	PUSH IX
                             A+     425 
00000649 DD 21 7B 24         A+     425 	LD	IX,POS
0000064D 40                  A+     425 	LD	B,DIN
0000064E CD 00 00            A+     425 	call FHOUTA
                             A+     425 
00000651 DD E1               A+     425 	POP	IX
00000653 C1                  A+     425 	POP BC
                             A+     425 
                             A      426 	HOUT VIDSTARTLOC+7DH,C 
00000654 C5                  A+     426 	PUSH BC
00000655 DD E5               A+     426 	PUSH IX
                             A+     426 
00000657 DD 21 7D 24         A+     426 	LD	IX,POS
0000065B 41                  A+     426 	LD	B,DIN
0000065C CD 00 00            A+     426 	call FHOUTA
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   33


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A+     426 
0000065F DD E1               A+     426 	POP	IX
00000661 C1                  A+     426 	POP BC
                             A+     426 
                             A      427 
00000662 E5                  A      428 	PUSH HL
00000663 21 70 24            A      429 	LD HL,VIDSTARTLOC+70H
00000666 34                  A      430 	INC (HL)
                             A      431 	STROUTXY 15H,09H, "RST18", 5 
00000667 C5                  A+     431 	PUSH BC
00000668 D5                  A+     431 	PUSH DE
00000669 E5                  A+     431 	PUSH HL
0000066A DD E5               A+     431 	PUSH IX
                             A+     431 
                             A+     431 	XY2SCR	XPOS, YPOS
0000066C C5                  A+     431 	PUSH BC
                             A+     431 
0000066D 06 15               A+     431 	LD 	B,XPOS
0000066F 0E 09               A+     431 	LD 	C,YPOS
                             A+     431 
00000671 CD 00 00            A+     431 	CALL	FXY2SCR
                             A+     431 
00000674 C1                  A+     431 	POP BC
                             A+     431 
                             A+     431 
00000675 21 82 06            A+     431 	LD	HL,$STRSTR
00000678 DD E5               A+     431 	PUSH	IX
0000067A D1                  A+     431 	POP		DE
0000067B 01 05 00            A+     431 	LD	BC,STRLEN
                             A+     431 
0000067E ED B0               A+     431 	LDIR
00000680 18 05               A+     431 	JR $LEAVE
                             A+     431 
00000682                     A+     431 $STRSTR
00000682 52 53 54 31 38      A+     431 	DB STR
00000687                     A+     431 $LEAVE
00000687 DD E1               A+     431 	POP	IX
00000689 E1                  A+     431 	POP HL
0000068A D1                  A+     431 	POP DE
0000068B C1                  A+     431 	POP BC
                             A+     431 
0000068C E1                  A      432 	POP HL
0000068D C9                  A      433 	RET
                             A      434 
0000068E                     A      435 RST20HANDLER:
0000068E C1                  A      436 	POP		BC
0000068F C5                  A      437 	PUSH	BC
                             A      438 
                             A      439 	HOUT VIDSTARTLOC+9BH,B 
00000690 C5                  A+     439 	PUSH BC
00000691 DD E5               A+     439 	PUSH IX
                             A+     439 
00000693 DD 21 9B 24         A+     439 	LD	IX,POS
00000697 40                  A+     439 	LD	B,DIN
00000698 CD 00 00            A+     439 	call FHOUTA
                             A+     439 
0000069B DD E1               A+     439 	POP	IX
0000069D C1                  A+     439 	POP BC
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   34


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A+     439 
                             A      440 	HOUT VIDSTARTLOC+9DH,C 
0000069E C5                  A+     440 	PUSH BC
0000069F DD E5               A+     440 	PUSH IX
                             A+     440 
000006A1 DD 21 9D 24         A+     440 	LD	IX,POS
000006A5 41                  A+     440 	LD	B,DIN
000006A6 CD 00 00            A+     440 	call FHOUTA
                             A+     440 
000006A9 DD E1               A+     440 	POP	IX
000006AB C1                  A+     440 	POP BC
                             A+     440 
                             A      441 
000006AC E5                  A      442 	PUSH HL
000006AD 21 90 24            A      443 	LD HL,VIDSTARTLOC+90H
000006B0 34                  A      444 	INC (HL)
                             A      445 	STROUTXY 15H,09H, "RST20", 5 
000006B1 C5                  A+     445 	PUSH BC
000006B2 D5                  A+     445 	PUSH DE
000006B3 E5                  A+     445 	PUSH HL
000006B4 DD E5               A+     445 	PUSH IX
                             A+     445 
                             A+     445 	XY2SCR	XPOS, YPOS
000006B6 C5                  A+     445 	PUSH BC
                             A+     445 
000006B7 06 15               A+     445 	LD 	B,XPOS
000006B9 0E 09               A+     445 	LD 	C,YPOS
                             A+     445 
000006BB CD 00 00            A+     445 	CALL	FXY2SCR
                             A+     445 
000006BE C1                  A+     445 	POP BC
                             A+     445 
                             A+     445 
000006BF 21 CC 06            A+     445 	LD	HL,$STRSTR
000006C2 DD E5               A+     445 	PUSH	IX
000006C4 D1                  A+     445 	POP		DE
000006C5 01 05 00            A+     445 	LD	BC,STRLEN
                             A+     445 
000006C8 ED B0               A+     445 	LDIR
000006CA 18 05               A+     445 	JR $LEAVE
                             A+     445 
000006CC                     A+     445 $STRSTR
000006CC 52 53 54 32 30      A+     445 	DB STR
000006D1                     A+     445 $LEAVE
000006D1 DD E1               A+     445 	POP	IX
000006D3 E1                  A+     445 	POP HL
000006D4 D1                  A+     445 	POP DE
000006D5 C1                  A+     445 	POP BC
                             A+     445 
000006D6 E1                  A      446 	POP HL
000006D7 C9                  A      447 	RET
                             A      448 
000006D8                     A      449 RST28HANDLER:
000006D8 C1                  A      450 	POP		BC
000006D9 C5                  A      451 	PUSH	BC
                             A      452 
                             A      453 	HOUT VIDSTARTLOC+0BBH,B 
000006DA C5                  A+     453 	PUSH BC
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   35


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
000006DB DD E5               A+     453 	PUSH IX
                             A+     453 
000006DD DD 21 BB 24         A+     453 	LD	IX,POS
000006E1 40                  A+     453 	LD	B,DIN
000006E2 CD 00 00            A+     453 	call FHOUTA
                             A+     453 
000006E5 DD E1               A+     453 	POP	IX
000006E7 C1                  A+     453 	POP BC
                             A+     453 
                             A      454 	HOUT VIDSTARTLOC+0BDH,C 
000006E8 C5                  A+     454 	PUSH BC
000006E9 DD E5               A+     454 	PUSH IX
                             A+     454 
000006EB DD 21 BD 24         A+     454 	LD	IX,POS
000006EF 41                  A+     454 	LD	B,DIN
000006F0 CD 00 00            A+     454 	call FHOUTA
                             A+     454 
000006F3 DD E1               A+     454 	POP	IX
000006F5 C1                  A+     454 	POP BC
                             A+     454 
                             A      455 
000006F6 E5                  A      456 	PUSH HL
000006F7 21 B0 24            A      457 	LD HL,VIDSTARTLOC+0B0H
000006FA 34                  A      458 	INC (HL)
                             A      459 	STROUTXY 15H,09H, "RST28", 5 
000006FB C5                  A+     459 	PUSH BC
000006FC D5                  A+     459 	PUSH DE
000006FD E5                  A+     459 	PUSH HL
000006FE DD E5               A+     459 	PUSH IX
                             A+     459 
                             A+     459 	XY2SCR	XPOS, YPOS
00000700 C5                  A+     459 	PUSH BC
                             A+     459 
00000701 06 15               A+     459 	LD 	B,XPOS
00000703 0E 09               A+     459 	LD 	C,YPOS
                             A+     459 
00000705 CD 00 00            A+     459 	CALL	FXY2SCR
                             A+     459 
00000708 C1                  A+     459 	POP BC
                             A+     459 
                             A+     459 
00000709 21 16 07            A+     459 	LD	HL,$STRSTR
0000070C DD E5               A+     459 	PUSH	IX
0000070E D1                  A+     459 	POP		DE
0000070F 01 05 00            A+     459 	LD	BC,STRLEN
                             A+     459 
00000712 ED B0               A+     459 	LDIR
00000714 18 05               A+     459 	JR $LEAVE
                             A+     459 
00000716                     A+     459 $STRSTR
00000716 52 53 54 32 38      A+     459 	DB STR
0000071B                     A+     459 $LEAVE
0000071B DD E1               A+     459 	POP	IX
0000071D E1                  A+     459 	POP HL
0000071E D1                  A+     459 	POP DE
0000071F C1                  A+     459 	POP BC
                             A+     459 
00000720 E1                  A      460 	POP HL
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   36


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
00000721 C9                  A      461 	RET
                             A      462 
00000722                     A      463 RST30HANDLER:
00000722 C1                  A      464 	POP		BC
00000723 C5                  A      465 	PUSH	BC
                             A      466 
                             A      467 	HOUT VIDSTARTLOC+0DBH,B 
00000724 C5                  A+     467 	PUSH BC
00000725 DD E5               A+     467 	PUSH IX
                             A+     467 
00000727 DD 21 DB 24         A+     467 	LD	IX,POS
0000072B 40                  A+     467 	LD	B,DIN
0000072C CD 00 00            A+     467 	call FHOUTA
                             A+     467 
0000072F DD E1               A+     467 	POP	IX
00000731 C1                  A+     467 	POP BC
                             A+     467 
                             A      468 	HOUT VIDSTARTLOC+0DDH,C 
00000732 C5                  A+     468 	PUSH BC
00000733 DD E5               A+     468 	PUSH IX
                             A+     468 
00000735 DD 21 DD 24         A+     468 	LD	IX,POS
00000739 41                  A+     468 	LD	B,DIN
0000073A CD 00 00            A+     468 	call FHOUTA
                             A+     468 
0000073D DD E1               A+     468 	POP	IX
0000073F C1                  A+     468 	POP BC
                             A+     468 
                             A      469 
00000740 E5                  A      470 	PUSH HL
00000741 21 D0 24            A      471 	LD HL,VIDSTARTLOC+0D0H
00000744 34                  A      472 	INC (HL)
                             A      473 	STROUTXY 15H,09H, "RST30", 5 
00000745 C5                  A+     473 	PUSH BC
00000746 D5                  A+     473 	PUSH DE
00000747 E5                  A+     473 	PUSH HL
00000748 DD E5               A+     473 	PUSH IX
                             A+     473 
                             A+     473 	XY2SCR	XPOS, YPOS
0000074A C5                  A+     473 	PUSH BC
                             A+     473 
0000074B 06 15               A+     473 	LD 	B,XPOS
0000074D 0E 09               A+     473 	LD 	C,YPOS
                             A+     473 
0000074F CD 00 00            A+     473 	CALL	FXY2SCR
                             A+     473 
00000752 C1                  A+     473 	POP BC
                             A+     473 
                             A+     473 
00000753 21 60 07            A+     473 	LD	HL,$STRSTR
00000756 DD E5               A+     473 	PUSH	IX
00000758 D1                  A+     473 	POP		DE
00000759 01 05 00            A+     473 	LD	BC,STRLEN
                             A+     473 
0000075C ED B0               A+     473 	LDIR
0000075E 18 05               A+     473 	JR $LEAVE
                             A+     473 
00000760                     A+     473 $STRSTR
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   37


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
00000760 52 53 54 33 30      A+     473 	DB STR
00000765                     A+     473 $LEAVE
00000765 DD E1               A+     473 	POP	IX
00000767 E1                  A+     473 	POP HL
00000768 D1                  A+     473 	POP DE
00000769 C1                  A+     473 	POP BC
                             A+     473 
0000076A E1                  A      474 	POP HL
0000076B C9                  A      475 	RET
                             A      476 
0000076C                     A      477 RST38HANDLER:
0000076C C1                  A      478 	POP		BC
0000076D C5                  A      479 	PUSH	BC
                             A      480 
                             A      481 	SP2SCR 015H, 0CH
0000076E E5                  A+     481 	PUSH	HL
                             A+     481 
                             A+     481 	XY2SCR	XPOS, YPOS
0000076F C5                  A+     481 	PUSH BC
                             A+     481 
00000770 06 15               A+     481 	LD 	B,XPOS
00000772 0E 0C               A+     481 	LD 	C,YPOS
                             A+     481 
00000774 CD 00 00            A+     481 	CALL	FXY2SCR
                             A+     481 
00000777 C1                  A+     481 	POP BC
                             A+     481 
                             A+     481 
00000778 21 00 00            A+     481 	LD HL,0
0000077B 39                  A+     481 	ADD HL,SP
0000077C 7C                  A+     481 	LD A,H
                             A+     481 
0000077D CB 3F               A+     481 	SRL A
0000077F CB 3F               A+     481 	SRL A
00000781 CB 3F               A+     481 	SRL A
00000783 CB 3F               A+     481 	SRL A
                             A+     481 
00000785 CD 00 00            A+     481 	CALL FAOUT
                             A+     481 
00000788 21 00 00            A+     481 	LD HL,0
0000078B 39                  A+     481 	ADD HL,SP
0000078C 7C                  A+     481 	LD A,H
                             A+     481 
0000078D E6 0F               A+     481 	AND 0FH
                             A+     481 
0000078F DD 23               A+     481 	INC		IX
00000791 CD 00 00            A+     481 	CALL FAOUT
                             A+     481 
00000794 21 00 00            A+     481 	LD HL,0
00000797 39                  A+     481 	ADD HL,SP
00000798 7D                  A+     481 	LD A,L
                             A+     481 
00000799 CB 3F               A+     481 	SRL A
0000079B CB 3F               A+     481 	SRL A
0000079D CB 3F               A+     481 	SRL A
0000079F CB 3F               A+     481 	SRL A
                             A+     481 
000007A1 DD 23               A+     481 	INC		IX
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   38


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
000007A3 CD 00 00            A+     481 	CALL FAOUT
                             A+     481 
000007A6 21 00 00            A+     481 	LD HL,0
000007A9 39                  A+     481 	ADD HL,SP
000007AA 7D                  A+     481 	LD A,L
                             A+     481 
000007AB E6 0F               A+     481 	AND 0FH
                             A+     481 
000007AD DD 23               A+     481 	INC		IX
000007AF CD 00 00            A+     481 	CALL FAOUT
                             A+     481 
000007B2 E1                  A+     481 	POP		HL
                             A+     481 	
                             A      482 
000007B3 E5                  A      483 	PUSH HL
                             A      484 
                             A      485 	HOUT VIDSTARTLOC+0FBH,B 
000007B4 C5                  A+     485 	PUSH BC
000007B5 DD E5               A+     485 	PUSH IX
                             A+     485 
000007B7 DD 21 FB 24         A+     485 	LD	IX,POS
000007BB 40                  A+     485 	LD	B,DIN
000007BC CD 00 00            A+     485 	call FHOUTA
                             A+     485 
000007BF DD E1               A+     485 	POP	IX
000007C1 C1                  A+     485 	POP BC
                             A+     485 
                             A      486 	HOUT VIDSTARTLOC+0FDH,C 
000007C2 C5                  A+     486 	PUSH BC
000007C3 DD E5               A+     486 	PUSH IX
                             A+     486 
000007C5 DD 21 FD 24         A+     486 	LD	IX,POS
000007C9 41                  A+     486 	LD	B,DIN
000007CA CD 00 00            A+     486 	call FHOUTA
                             A+     486 
000007CD DD E1               A+     486 	POP	IX
000007CF C1                  A+     486 	POP BC
                             A+     486 
                             A      487 	
000007D0 21 F0 24            A      488 	LD HL,VIDSTARTLOC+0F0H
000007D3 34                  A      489 	INC (HL)
                             A      490 	STROUTXY 15H,09H, "RST38", 5 
000007D4 C5                  A+     490 	PUSH BC
000007D5 D5                  A+     490 	PUSH DE
000007D6 E5                  A+     490 	PUSH HL
000007D7 DD E5               A+     490 	PUSH IX
                             A+     490 
                             A+     490 	XY2SCR	XPOS, YPOS
000007D9 C5                  A+     490 	PUSH BC
                             A+     490 
000007DA 06 15               A+     490 	LD 	B,XPOS
000007DC 0E 09               A+     490 	LD 	C,YPOS
                             A+     490 
000007DE CD 00 00            A+     490 	CALL	FXY2SCR
                             A+     490 
000007E1 C1                  A+     490 	POP BC
                             A+     490 
                             A+     490 
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   39


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
000007E2 21 EF 07            A+     490 	LD	HL,$STRSTR
000007E5 DD E5               A+     490 	PUSH	IX
000007E7 D1                  A+     490 	POP		DE
000007E8 01 05 00            A+     490 	LD	BC,STRLEN
                             A+     490 
000007EB ED B0               A+     490 	LDIR
000007ED 18 05               A+     490 	JR $LEAVE
                             A+     490 
000007EF                     A+     490 $STRSTR
000007EF 52 53 54 33 38      A+     490 	DB STR
000007F4                     A+     490 $LEAVE
000007F4 DD E1               A+     490 	POP	IX
000007F6 E1                  A+     490 	POP HL
000007F7 D1                  A+     490 	POP DE
000007F8 C1                  A+     490 	POP BC
                             A+     490 
                             A      491 
                             A      492 ;	HALT
                             A      493 
000007F9 E1                  A      494 	POP HL
000007FA C9                  A      495 	RET
                             A      496 	
000007FB                     A      497 RST66HANDLER:
000007FB C1                  A      498 	POP		BC
000007FC C5                  A      499 	PUSH	BC
                             A      500 
                             A      501 	HOUT 251BH,B 
000007FD C5                  A+     501 	PUSH BC
000007FE DD E5               A+     501 	PUSH IX
                             A+     501 
00000800 DD 21 1B 25         A+     501 	LD	IX,POS
00000804 40                  A+     501 	LD	B,DIN
00000805 CD 00 00            A+     501 	call FHOUTA
                             A+     501 
00000808 DD E1               A+     501 	POP	IX
0000080A C1                  A+     501 	POP BC
                             A+     501 
                             A      502 	HOUT 251DH,C 
0000080B C5                  A+     502 	PUSH BC
0000080C DD E5               A+     502 	PUSH IX
                             A+     502 
0000080E DD 21 1D 25         A+     502 	LD	IX,POS
00000812 41                  A+     502 	LD	B,DIN
00000813 CD 00 00            A+     502 	call FHOUTA
                             A+     502 
00000816 DD E1               A+     502 	POP	IX
00000818 C1                  A+     502 	POP BC
                             A+     502 
                             A      503 
00000819 E5                  A      504 	PUSH HL
0000081A 21 10 25            A      505 	LD HL,2510H
0000081D 34                  A      506 	INC (HL)
                             A      507 	STROUTXY 15H,09H, "RST66", 5 
0000081E C5                  A+     507 	PUSH BC
0000081F D5                  A+     507 	PUSH DE
00000820 E5                  A+     507 	PUSH HL
00000821 DD E5               A+     507 	PUSH IX
                             A+     507 
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   40


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
                             A+     507 	XY2SCR	XPOS, YPOS
00000823 C5                  A+     507 	PUSH BC
                             A+     507 
00000824 06 15               A+     507 	LD 	B,XPOS
00000826 0E 09               A+     507 	LD 	C,YPOS
                             A+     507 
00000828 CD 00 00            A+     507 	CALL	FXY2SCR
                             A+     507 
0000082B C1                  A+     507 	POP BC
                             A+     507 
                             A+     507 
0000082C 21 39 08            A+     507 	LD	HL,$STRSTR
0000082F DD E5               A+     507 	PUSH	IX
00000831 D1                  A+     507 	POP		DE
00000832 01 05 00            A+     507 	LD	BC,STRLEN
                             A+     507 
00000835 ED B0               A+     507 	LDIR
00000837 18 05               A+     507 	JR $LEAVE
                             A+     507 
00000839                     A+     507 $STRSTR
00000839 52 53 54 36 36      A+     507 	DB STR
0000083E                     A+     507 $LEAVE
0000083E DD E1               A+     507 	POP	IX
00000840 E1                  A+     507 	POP HL
00000841 D1                  A+     507 	POP DE
00000842 C1                  A+     507 	POP BC
                             A+     507 
00000843 E1                  A      508 	POP HL
00000844 ED 45               A      509 	RETN
                             A      510 
                             A      511 	SEGMENT RST08SEG ; MAKE IT THE CURRENT SECTION
                             A      512 
00000000                     A      513 RST08:
                             A      514 ;	...	INTERRUPT	ROUTINE
00000000 C3 B0 05            A      515 	JP RST08HANDLER
                             A      516 	
                             A      517 	SEGMENT RST10SEG ; MAKE IT THE CURRENT SECTION
                             A      518 
00000000                     A      519 RST10:
                             A      520 ;	...	INTERRUPT	ROUTINE
00000000 C3 FA 05            A      521 	JP RST10HANDLER
                             A      522 	
                             A      523 	SEGMENT RST18SEG ; MAKE IT THE CURRENT SECTION
                             A      524 
00000000                     A      525 RST18:
                             A      526 ;	...	INTERRUPT	ROUTINE
00000000 C3 44 06            A      527 	JP RST18HANDLER
                             A      528 	
                             A      529 	SEGMENT RST20SEG ; MAKE IT THE CURRENT SECTION
                             A      530 
00000000                     A      531 RST020:
                             A      532 ;	...	INTERRUPT	ROUTINE
00000000 C3 8E 06            A      533 	JP RST20HANDLER
                             A      534 
                             A      535 	SEGMENT RST28SEG ; MAKE IT THE CURRENT SECTION
                             A      536 
00000000                     A      537 RST28:
                             A      538 ;	...	INTERRUPT	ROUTINE
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   41


g:\my drive\ace-2019\testrom\exp.asm

Location Object              Type  Line Source
00000000 C3 D8 06            A      539 	JP RST28HANDLER
                             A      540 
                             A      541 	SEGMENT RST30SEG ; MAKE IT THE CURRENT SECTION
                             A      542 
00000000                     A      543 RST30:
                             A      544 ;	...	INTERRUPT	ROUTINE
00000000 C3 22 07            A      545 	JP RST30HANDLER
                             A      546 	
                             A      547 	SEGMENT RST38SEG ; MAKE IT THE CURRENT SECTION
                             A      548 
00000000                     A      549 RST38:
                             A      550 ;	...	INTERRUPT	ROUTINE
00000000 C3 6C 07            A      551 	JP RST38HANDLER
                             A      552 	
                             A      553 	SEGMENT RST66SEG ; MAKE IT THE CURRENT SECTION
                             A      554 
00000000                     A      555 RST66:
                             A      556 ;	...	INTERRUPT	ROUTINE
00000000 C3 FB 07            A      557 	JP RST66HANDLER
00000003                     A      558 .END
                             A      559 
Zilog Macro Assembler.  Version K2.14    13-Jan-123    00:25:22    Page:   42


g:\my drive\ace-2019\testrom\exp.asm


    0 Warnings
    0 Errors
